var _a=Object.defineProperty;var qt=Object.getOwnPropertySymbols;var fa=Object.prototype.hasOwnProperty,va=Object.prototype.propertyIsEnumerable;var Gt=(p,k,r)=>k in p?_a(p,k,{enumerable:!0,configurable:!0,writable:!0,value:r}):p[k]=r,tt=(p,k)=>{for(var r in k||(k={}))fa.call(k,r)&&Gt(p,r,k[r]);if(qt)for(var r of qt(k))va.call(k,r)&&Gt(p,r,k[r]);return p};import{A as ga,r as P,o as ya,a as Fe,t as ha,c as y,E as ba,b as t,d as ge,w as R,e as i,f as l,g as at,u as e,i as ue,n as V,h as Jt,j as it,k as a,l as de,_ as Re,m as u,p as Y,q as Rt,s as A,v as ae,F as K,x as ye,y as re,z as xe,B as Yt,C as st,D as Ke,I as ka,G as ft,H as se,J as ct,K as Ct,L as we,M as Ca,N as $a,P as Sa,R as wa,O as xa,Q as Pa,S as Ia,T as Ea,U as Da,V as La,W as Ta,X as Ba,Y as Fa,Z as za,$ as Je,a0 as Bt,a1 as Aa,a2 as It,a3 as Ot,a4 as _t,a5 as Qt,a6 as Ra,a7 as Oa,a8 as Zt,a9 as Ue,aa as Ye,ab as Ma,ac as Va,ad as Na,ae as Mt,af as Ua,ag as Kt,ah as Wa,ai as ja,aj as ea,ak as Ha,al as qa,am as Ft,an as $t,ao as zt,ap as Vt,aq as vt,ar as St,as as Me,at as wt,au as xt,av as Ga,aw as Ja,ax as Ya,ay as Qa,az as Xa,aA as Za}from"./stepForm.3dffd51a.js";const Ka={key:0,class:"am-dialog__title"},ei={inheritAttrs:!1},dt=Object.assign(ei,{props:{modelValue:{type:[String,Array,Object,Number,Boolean]},modalClass:{type:String,default:""},title:{type:String,default:""},width:{type:[String,Number],default:"50%"},fullscreen:{type:Boolean,default:!1},top:{type:String,default:"15vh"},modal:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},customClass:{type:String,default:""},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},beforeClose:{type:Function},center:{type:Boolean,default:!1},destroyOnClose:{type:Boolean,default:!1},closeIcon:{type:[Object,Function],default:ga},customStyles:{type:Object},usedForShortcode:{type:Boolean,default:!1}},emits:["close","open","closed","opened","update:modelValue"],setup(p,{emit:k}){const r=p,w=P(null);ya(()=>{$()}),Fe(()=>{r.usedForShortcode&&(w.value.rendered=!0),$()});function $(){r.customStyles&&Object.keys(r.customStyles).forEach(s=>{w.value.style[s]=r.customStyles[s]})}let{modelValue:T}=ha(r),m=y({get:()=>T.value,set:s=>{k("update:modelValue",s)}});return(s,d)=>{const g=ba;return t(),ge(g,{ref_key:"amDialogRef",ref:w,modelValue:e(m),"onUpdate:modelValue":d[0]||(d[0]=x=>ue(m)?m.value=x:m=x),"modal-class":`am-dialog-popup ${r.modalClass}`,title:r.title,width:r.width,fullscreen:r.fullscreen,top:r.top,modal:r.modal,"append-to-body":r.appendToBody,"lock-scroll":r.lockScroll,"custom-class":r.customClass,"open-delay":r.openDelay,"close-delay":r.closeDelay,"close-on-click-modal":r.closeOnClickModal,"close-on-press-escape":r.closeOnPressEscape,"show-close":r.showClose,"before-close":r.beforeClose,center:r.center,"destroy-on-close":r.destroyOnClose,"close-icon":r.closeIcon,onClose:d[1]||(d[1]=x=>k("close")),onOpen:d[2]||(d[2]=x=>k("open")),onClosed:d[3]||(d[3]=x=>k("closed")),onOpened:d[4]||(d[4]=x=>k("opened"))},{title:R(()=>[p.title?(t(),i("span",Ka,l(p.title),1)):at(s.$slots,"title",{key:1})]),footer:R(()=>[at(s.$slots,"footer")]),default:R(()=>[at(s.$slots,"default")]),_:3},8,["modelValue","modal-class","title","width","fullscreen","top","modal","append-to-body","lock-scroll","custom-class","open-delay","close-delay","close-on-click-modal","close-on-press-escape","show-close","before-close","center","destroy-on-close","close-icon"])}}}),ti={name:"IconComponent"},Pt=Object.assign(ti,{props:{icon:{type:String,required:!0}},setup(p){return(k,r)=>(t(),i("span",{class:V(`am-icon-${p.icon}`)},null,2))}});const ai={class:"am-cat__header-inner"},ii={class:"am-cat__back-btn"},si={key:0,class:"am-cat__cart-btn"},li={class:"am-cat__cart-number"},oi={name:"MainHeader"},Nt=Object.assign(oi,{props:{btnString:{type:String,default:""},btnType:{type:String,default:"plain"},btnSize:{type:String,default:"mini"},backBtnVisibility:{type:Boolean,default:!0},cartBtnVisibility:{type:Boolean,default:!1},cartItemsNumber:{type:Number,default:0}},emits:["goBack","goToCart"],setup(p,{emit:k}){const r=p;let w=Jt({components:{IconComponent:Pt},template:'<IconComponent icon="arrow-left"></IconComponent>'}),$=Jt({components:{IconComponent:Pt},template:'<IconComponent icon="cart"/>'});function T(){k("goBack")}const m=it();function s(){Rt(m),k("goToCart")}return(d,g)=>(t(),i("div",ai,[a("div",ii,[e(r).backBtnVisibility?(t(),ge(Re,{key:0,prefix:e(w),category:"secondary",type:p.btnType,size:p.btnSize,onClick:T},{default:R(()=>[de(l(e(r).btnString),1)]),_:1},8,["prefix","type","size"])):u("",!0)]),e(r).cartBtnVisibility?(t(),i("div",si,[a("span",li,l(e(r).cartItemsNumber),1),Y(Re,{category:"secondary",type:p.btnType,size:p.btnSize,round:!0,"icon-only":!0,icon:e($),onClick:s},null,8,["type","size","icon"])])):u("",!0)]))}});const ni={class:"am-cat__sidemenu-item__wrapper"},ci=["onClick"],ri={key:0,class:"am-cat__sidemenu-footer"},ui={class:"am-cat__sidemenu-footer__text"},di=["href"],mi={name:"SideMenu"},pi=Object.assign(mi,{props:{menuItems:{type:Array,required:!0},initSelection:{type:[String,Number]},identifier:{type:String,required:!0},nameIdentifier:{type:String,required:!0},footerString:{type:String,default:""},companyEmail:{type:String,default:""}},emits:["click"],setup(p,{emit:k}){const r=p;function w(m){k("click",m)}let $=A("amColors"),T=y(()=>({"--am-c-csm-text-op10":ae($.value.colorSbText,.1),"--am-c-csm-primary-op10":ae($.value.colorPrimary,.1),"--am-c-csm-text-op60":ae($.value.colorSbText,.6),"--am-c-csm-text-op80":ae($.value.colorSbText,.8)}));return(m,s)=>(t(),i("div",{class:"am-cat__sidemenu",style:re(e(T))},[a("div",ni,[(t(!0),i(K,null,ye(p.menuItems,(d,g)=>(t(),i("div",{key:g,class:V(["am-cat__sidemenu-item",{"am-active":e(r).initSelection===d[e(r).identifier]}]),onClick:()=>w(d)},l(d[e(r).nameIdentifier]),11,ci))),128))]),e(r).companyEmail?(t(),i("div",ri,[a("span",ui,l(e(r).footerString),1),a("a",{class:"am-cat__sidemenu-footer__email",href:`mailto:${e(r).companyEmail}`},l(e(r).companyEmail),9,di)])):u("",!0)],4))}});const _i={name:"MainContent"},Ut=Object.assign(_i,{props:{wrapperClass:{type:String,default:""},formClass:{type:String,default:""},headingClass:{type:String,default:""},contentClass:{type:String,default:""}},setup(p,{expose:k}){let r=P(null),w=P(0),$=P(null),T=P(0),m=P(null),s=P(0),d=P(null),g=P(null),x=P(0);window.addEventListener("resize",C);function C(){xe(()=>{r.value&&(w.value=r.value.offsetWidth),$.value&&(T.value=$.value.offsetWidth),m.value&&(s.value=m.value.offsetWidth)})}Fe(()=>{xe(()=>{if(m.value&&d.value){let U=m.value.offsetHeight-d.value.offsetHeight-2;x.value=U<=656?656:U}C()})}),k({catHeaderWidth:w,catFormWidth:s,catContainerWidth:T});let E=A("amColors"),v=y(()=>({"--am-h-cat-content":`${x.value}px`,"--am-c-scroll-op30":ae(E.value.colorPrimary,.3),"--am-c-scroll-op10":ae(E.value.colorPrimary,.1)}));return(U,te)=>(t(),i("div",{class:V(["am-cat__wrapper",p.wrapperClass])},[a("div",{ref_key:"catHeader",ref:r,class:"am-cat__header"},[at(U.$slots,"header")],512),a("div",{ref_key:"catContainer",ref:$,class:"am-cat__main"},[at(U.$slots,"side"),a("div",{ref_key:"catForm",ref:m,class:V(["am-cat__form",p.formClass]),style:re(e(v))},[a("div",{ref_key:"catHeading",ref:d,class:V(["am-cat__heading",p.headingClass])},[at(U.$slots,"heading")],2),a("div",{ref_key:"catContent",ref:g,class:V(["am-cat__content",p.contentClass])},[at(U.$slots,"content")],2)],6)],512)],2))}}),fi={name:"AmImagePlaceholder"},rt=Object.assign(fi,{props:{itemClass:{type:String,default:""},itemData:{type:Object,default:()=>{}},trimString:{type:Number,default:2}},setup(p){const k=p;function r($){return $.pictureFullPath?{backgroundImage:`url(${$.pictureFullPath})`}:{backgroundColor:`${Yt.value[Math.floor(Math.random()*Yt.value.length)]}`}}function w($){return $.pictureFullPath?"":("firstName"in $?`${$.firstName} ${$.lastName}`:$.name).split(" ").map(m=>m.charAt(0)).join("").toUpperCase().substring(0,k.trimString).replace(/[^\w\s]/g,"")}return($,T)=>(t(),i("span",{class:V(e(k).itemClass),style:re(tt({},r(e(k).itemData)))},l(w(e(k).itemData)),7))}}),At=st(window.wpAmeliaSettings),Xt=st(window.wpAmeliaLabels);function ta(p,k,r,w=null,$=null){let T=[],m=p&&p.service?p.service.split(",").map(s=>parseInt(s)):null;return k&&k.serviceList.forEach(s=>{w?w in r.entitiesRelations&&s.id in r.entitiesRelations[w]&&($?r.entitiesRelations[w][s.id].find(d=>d===$):!0)&&s.status==="visible"&&s.show&&!T.filter(d=>d===s.id).length&&(!m||m.includes(s.id))&&T.push(s.id):r.employees.forEach(d=>{d.id in r.entitiesRelations&&s.id in r.entitiesRelations[d.id]&&($?r.entitiesRelations[d.id][s.id].find(g=>g===$):!0)&&s.status==="visible"&&s.show&&!T.filter(g=>g===s.id).length&&(!m||m.includes(s.id))&&T.push(s.id)})}),T}function aa(p,k){let r=[],w=[];p.employees.forEach(m=>{if(m.id in p.entitiesRelations&&k in p.entitiesRelations[m.id]){let s=m.serviceList.find(d=>d.id===k);r.push(s.maxCapacity),w.push(s.minCapacity)}});let $=w.reduce((m,s)=>s<m?s:m,w[0]),T=r.reduce((m,s)=>s>m?s:m,r[0]);return $!==T?`${$}/${T}`:$}function ia(p){let k=Math.floor(p/3600),r=p/60%60;return(k?k+Xt.h+" ":"")+" "+(r?r+Xt.min:"")}function ut(p,k){let r=[];p.employees.forEach(T=>{if(T.id in p.entitiesRelations&&k in p.entitiesRelations[T.id]){let m=T.serviceList.find(s=>s.id===k);r.push(m.price)}});let w=r.reduce((T,m)=>m<T?m:T,r[0]),$=r.reduce((T,m)=>m>T?m:T,r[0]);return w!==$?{price:`${Ke(w,!At.payments.hideCurrencySymbolFrontend)} - ${Ke($,!At.payments.hideCurrencySymbolFrontend)}`,min:w,max:$}:{price:Ke(w,At.payments.hideCurrencySymbolFrontend),min:w,max:$}}function Ae(p,k){let r=[];return p.employees.forEach(w=>{w.id in p.entitiesRelations&&k in p.entitiesRelations[w.id]&&p.entitiesRelations[w.id][k].length&&p.locations.forEach($=>{p.entitiesRelations[w.id][k].some(T=>T===$.id)&&!r.find(T=>T===$.id)&&r.push($)})}),r}function vi(p,k){let r=[],w=Object.keys(p.entitiesRelations);return k.bookable.forEach($=>{let T=[];w.forEach(m=>{p.entitiesRelations[m]&&p.entitiesRelations[m][$.service.id]&&!T.find(s=>s?s.id===parseInt(m):!0)&&T.push(p.employees.find(s=>s.id===parseInt(m)))}),T.length||r.push(!1)}),r.filter($=>$===!1).length}function gi(p,k,r){let w=[],$=Object.keys(p.entitiesRelations),T=r&&r.employee?r.employee.split(",").map(s=>parseInt(s)):null,m=P(T?p.unfilteredEmployees.filter(s=>T.map(d=>parseInt(d)).includes(s.id)):p.unfilteredEmployees);return k.bookable.forEach(s=>{let d=[];s.providers.length?s.providers.forEach(g=>{s.locations.length?s.locations.forEach(x=>{m.value.find(C=>C.id===g.id)&&p.entitiesRelations[g.id]&&p.entitiesRelations[g.id][s.service.id]&&p.entitiesRelations[g.id][s.service.id].indexOf(x.id)!==-1&&!d.find(C=>C.id===g.id)&&d.push(m.value.find(C=>C.id===g.id))}):m.value.find(x=>x.id===g.id)&&!d.find(x=>x.id===g.id)&&d.push(m.value.find(x=>x.id===g.id))}):$.forEach(g=>{s.locations.length?s.locations.forEach(x=>{p.entitiesRelations[g]&&p.entitiesRelations[g][s.service.id]&&p.entitiesRelations[g][s.service.id].indexOf(x.id)!==-1&&m.value.find(C=>C.id===parseInt(g))&&!d.find(C=>C.id===parseInt(g))&&d.push(m.value.find(C=>C.id===parseInt(g)))}):p.entitiesRelations[g]&&p.entitiesRelations[g][s.service.id]&&m.value.find(x=>x.id===parseInt(g))&&!d.find(x=>x.id===parseInt(g))&&d.push(m.value.find(x=>x.id===parseInt(g)))}),w.push(!!d.length)}),!w.filter(s=>s===!1).length}function sa(p,k,r){let w=[],$=Object.keys(p.entitiesRelations),T=r&&r.employee?r.employee.split(",").map(s=>parseInt(s)):null,m=P(T?p.unfilteredEmployees.filter(s=>T.map(d=>parseInt(d)).includes(s.id)):p.unfilteredEmployees);return k.bookable.forEach(s=>{s.providers.length?s.providers.forEach(d=>{s.locations.length?s.locations.forEach(g=>{m.value.find(x=>x.id===d.id)&&p.entitiesRelations[d.id]&&p.entitiesRelations[d.id][s.service.id]&&p.entitiesRelations[d.id][s.service.id].indexOf(g.id)!==-1&&!w.find(x=>x.id===d.id)&&w.push(m.value.find(x=>x.id===d.id))}):m.value.find(g=>g.id===d.id)&&!w.find(g=>g.id===d.id)&&w.push(m.value.find(g=>g.id===d.id))}):$.forEach(d=>{s.locations.length?s.locations.forEach(g=>{p.entitiesRelations[d]&&p.entitiesRelations[d][s.service.id]&&p.entitiesRelations[d][s.service.id].indexOf(g.id)!==-1&&m.value.find(x=>x.id===parseInt(d))&&!w.find(x=>x.id===parseInt(d))&&w.push(m.value.find(x=>x.id===parseInt(d)))}):p.entitiesRelations[d]&&p.entitiesRelations[d][s.service.id]&&m.value.find(g=>g.id===parseInt(d))&&!w.find(g=>g.id===parseInt(d))&&w.push(m.value.find(g=>g.id===parseInt(d)))})}),w}function nt(p,k,r){let w=[],$=Object.keys(p.entitiesRelations),T=r&&r.location?r.location.split(",").map(s=>parseInt(s)):null,m=P(T?p.unfilteredLocations.filter(s=>T.map(d=>parseInt(d)).includes(s.id)):p.unfilteredLocations);return k.bookable.forEach(s=>{s.locations.length?s.locations.forEach(d=>{m.value.find(g=>g.id===d.id)&&!w.find(g=>g.id===d.id)&&w.push(m.value.find(g=>g.id===d.id))}):$.forEach(d=>{m.value.forEach(g=>{d in p.entitiesRelations&&s.service.id in p.entitiesRelations[d]&&p.entitiesRelations[d][s.service.id].indexOf(g.id)!==-1&&m.value.find(x=>x.id===g.id)&&!w.find(x=>x.id===parseInt(g.id))&&w.push(m.value.find(x=>x.id===g.id))})})}),w}function kt(p,k,r=null,w=null){let $=[];return p.categories.forEach(T=>{let m=ta(k,T,p,r,w);T.serviceIdList=m,T.packageList=[],p.packages.forEach(s=>{m.forEach(d=>{s.bookable.filter(g=>g.service.id===d).length&&!T.packageList.filter(g=>g===s.id).length&&s.available&&s.status==="visible"&&!vi(p,s)&&gi(p,s,k)&&T.packageList.push(s.id)})}),T.status==="visible"&&T.serviceList.length&&!!m.length&&(k.show==="packages"?!!T.packageList.length:!0)&&$.push(T)}),$}const yi={class:"am-fcl__item-inner"},hi={class:"am-fcl__item-name"},bi={class:"am-fcl__item-segments"},ki={key:0,class:"am-fcl__item-segments__item"},Ci=a("span",{class:"am-fcl__item-segments__item-icon am-icon-service"},null,-1),$i={class:"am-fcl__item-segments__item-count"},Si={key:1,class:"am-fcl__item-segments__item"},wi=a("span",{class:"am-fcl__item-segments__item-icon am-icon-shipment"},null,-1),xi={class:"am-fcl__item-segments__item-count"},Pi={class:"am-fcl__item-footer"},Ii=["src"],Ei={class:"am-empty__heading"},Di={class:"am-empty__subheading"},Li={class:"am-empty__text"},Ti={key:0},Bi={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Fi={key:1},zi={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Ai={name:"CategoriesList",key:"categoriesList"},Ri=Object.assign(Ai,{setup(p){const k=A("baseUrls");let r=P(null),w=P(0);window.addEventListener("resize",$);function $(){r.value&&(w.value=r.value.offsetWidth)}Fe(()=>{r.value&&(w.value=r.value.offsetWidth)});let T=y(()=>w.value<=500?"am-w100":w.value<=600?"am-w50":w.value<=768?"am-w33":""),{nextPage:m}=A("changingPageFunctions",{nextPage:()=>{}});const s=A("settings");let d=it(),g=A("amEntities"),x=A("customizedDataForm"),C=y(()=>x.value.categoriesList.options);const E=A("shortcodeData"),v=y(()=>d.getters["entities/getPreselected"]);let U=A("availableCategories"),te=y(()=>U.value),L=A("categorySelected");function F(be){L.value=be,d.commit("booking/setCategoryId",parseInt(be)),ft(d,{},"SelectCategory","appointment",null,null),m()}let c=y(()=>te.value.length===0);const q=A("labels"),oe=A("localLanguage");let J=y(()=>s.general.usedLanguages.includes(oe.value)),pe=y(()=>{let be=st(tt({},q));if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoriesList.translations){let ne=s.customizedData.cbf.categoriesList.translations;Object.keys(ne).forEach(f=>{ne[f][oe.value]&&J.value?be[f]=ne[f][oe.value]:ne[f].default&&(be[f]=ne[f].default)})}return be}),$e=A("amColors"),N=y(()=>({"--am-c-fcl-card-text-op80":ae($e.value.colorCardText,.8)}));return(be,ne)=>e(c)?(t(),i("div",{key:1,ref_key:"ameliaContainer",ref:r,class:"am-empty"},[a("img",{src:e(k).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Ii),a("div",Ei,l(e(pe).oops),1),a("div",Di,l(e(v).show!=="packages"?e(pe).no_services_employees:e(pe).no_package_services),1),a("div",Li,[e(v).show!=="packages"?(t(),i("span",Ti,l(e(pe).add_services_employees)+"\xA0 ",1)):u("",!0),a("a",Bi,l(e(pe).add_services_url)+"\xA0 ",1),e(v).show!=="packages"?(t(),i("span",Fi,l(e(pe).and)+"\xA0 ",1)):u("",!0),e(v).show!=="packages"?(t(),i("a",zi,l(e(pe).add_employees_url),1)):u("",!0)])],512)):(t(),i("div",{key:0,ref_key:"ameliaContainer",ref:r,class:"am-fcl",style:re(e(N))},[(t(!0),i(K,null,ye(e(te),f=>(t(),i("div",{key:f.id,class:V(["am-fcl__item",e(T)])},[a("div",yi,[a("div",{class:"am-fcl__item-content",style:re(e(C).cardSideColor.visibility?{borderLeft:"7px solid",borderLeftColor:f.color}:{})},[a("div",{class:"am-fcl__item-heading",style:re(e(C).cardColor&&e(C).cardColor.visibility?{backgroundColor:e(ae)(f.color,.1)}:{})},[f.pictureFullPath?(t(),i("div",{key:0,style:re({backgroundImage:`url(${f.pictureFullPath})`}),class:"am-fcl__item-hero"},null,4)):u("",!0),a("div",hi,l(f.name),1),a("div",bi,[(!e(v).show||e(v).show==="services")&&e(C).services.visibility?(t(),i("div",ki,[Ci,a("span",$i,l(e(ta)(e(E),f,e(g)).length),1)])):u("",!0),(!e(v).show||e(v).show==="packages")&&f.packageList.length&&e(C).packages.visibility?(t(),i("div",Si,[wi,a("span",xi,l(f.packageList.length),1)])):u("",!0)])],4),a("div",Pi,[Y(Re,{class:"am-fcl__item-btn",size:"mini",category:"secondary",type:e(C).cardButton.buttonType,suffix:e(ka),onClick:ve=>F(f.id)},{default:R(()=>[de(l(e(pe).view_all),1)]),_:2},1032,["type","suffix","onClick"])])],4)])],2))),128))],4))}});const Oi=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Mi=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Vi=["href"],Ni={class:"am-fs-sb__step-wrapper"},Ui={class:"am-fs-sb__step-inner"},Wi={class:"am-fs-sb__step-icon"},ji={key:0,class:"am-icon-check"},Hi={key:0},qi={key:1},Gi={key:1},Ji={key:0,class:"am-fs-sb__step"},Yi={class:"am-fs-sb__step-inner"},Qi={class:"am-fs-sb__step-icon"},Xi={key:0,class:"am-icon-check"},Zi={key:0,class:"am-fs-sb__support"},Ki=["href"],es={key:1,class:"am-icon-phone"},ts=["href"],as={key:1,class:"am-icon-email"},is={key:0,class:"am-fs-sb__menu-text"},ss={key:2,class:"am-no-services"},ls=["src"],os={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},ns={style:{"font-size":"14px"}},cs={href:"https://wpamelia.com/employees/",rel:"nofollow"},rs={name:"CategoryBooking"},Wt=Object.assign(rs,{props:{newBooking:{type:Boolean,default:!1},showCart:{type:Boolean,default:!1}},emits:["addToCart","emptiedCart"],setup(p,{emit:k}){const r=p;let w=P(null),$=P();se("containerWidth",$);let T=P(!1);window.addEventListener("resize",m);function m(){w.value&&($.value=w.value.offsetWidth)}Fe(()=>{xe(()=>{w.value&&($.value=w.value.offsetWidth)}),ft(c,{containerWidth:$},"ContainerWidth","appointment",null,null)});const s=A("settings"),d=s.customizedData?s.customizedData.sbsNew:ct.sbsNew;d&&se("amCustomize",d);let g=y(()=>{let n={heading:!0,phone:!0,email:!0};return"supportHeading"in d.sidebar.options&&(n.heading=d.sidebar.options.supportHeading.visibility),"companyPhone"in d.sidebar.options&&(n.phone=d.sidebar.options.companyPhone.visibility),"companyEmail"in d.sidebar.options&&(n.email=d.sidebar.options.companyEmail.visibility),n});const x=P(s.customizedData?s.customizedData.fonts:ct.fonts);se("amFonts",x);let C=P(!1);se("sidebarCollapsed",C);let E=P(""),v=A("bookingDialogWidth");Ct(C,n=>{n?setTimeout(()=>{E.value="am-collapsed",setTimeout(()=>{v.value="592px"},200)},1e3):(E.value="",v.value="760px")}),Fe(()=>{d.sidebar.options.self.visibility||(v.value="520px")});let U=P(null),te=P(0);Fe(()=>{setTimeout(()=>{xe(()=>{U.value&&setTimeout(()=>{U.value&&(te.value=U.value.offsetHeight)},200)})},800)});let L=P(d.sidebar?d.sidebar.options.self.visibility:!0);const F=A("baseUrls"),c=it();let q=y(()=>{let n=c.getters["entities/getOriginalPreselected"],b={category:c.state.booking.appointment.categoryId?[c.state.booking.appointment.categoryId]:[],counter:c.state.entities.preselected.counter,employee:c.state.booking.appointment.providerId?[c.state.booking.appointment.providerId]:[],hasApiCall:c.state.entities.preselected.hasApiCall,location:c.state.booking.appointment.locationId?[c.state.booking.appointment.locationId]:[],service:c.state.booking.appointment.serviceId?[c.state.booking.appointment.serviceId]:[],package:c.state.booking.packageId?[c.state.booking.packageId]:[],show:c.state.booking.appointment.type==="package"?"packages":"services",trigger:""};return Object.keys(n).forEach(D=>{D in b||(b[D]=n[D])}),b});c.commit("entities/setPreselected",q.value);let oe=A("restoreFormData");const J=we(Ca),pe=we($a),$e=we(Sa),N=we(wa),be=we(xa),ne=we(Pa),f=we(Ia),ve=we(Ea),Se=we(Da),_e=we(La),fe=we(Ta),ee=we(Ba),Le=we(Fa),Te=we(za),_=P(Je(c)?[J,ne,_e,fe,Se]:[J,ne,fe,Se]);se("stepsArray",_);const Q=A("labels"),G=A("localLanguage");let M=y(()=>s.general.usedLanguages.includes(G.value)),Be=Bt(c),ie=y(()=>{let n=st(tt({},Q));return s.customizedData&&Object.keys(s.customizedData.sbsNew).forEach(b=>{if(b!=="colors"&&s.customizedData.sbsNew[b].translations){let D=s.customizedData.sbsNew[b].translations;Object.keys(D).forEach(X=>{D[X][G.value]&&M.value?n[X]=D[X][G.value]:D[X].default&&(n[X]=D[X].default)})}}),n});se("amLabels",ie);let We=y(()=>{let n={};if(s.customizedData){let b=s.customizedData.sbsNew[_.value[S.value].key]?s.customizedData.sbsNew[_.value[S.value].key].translations:null;s.customizedData&&b&&Object.keys(b).forEach(D=>{b[D][G.value]&&M.value?n[D]=b[D][G.value]:b[D].default&&(n[D]=b[D].default)})}return Object.keys(n).length?n:Q}),ze=y(()=>{let n="filled";return s.customizedData&&s.customizedData.sbsNew[_.value[S.value].key]&&(n=s.customizedData.sbsNew[_.value[S.value].key].options.primaryFooterButton.buttonType),n});se("primFooterBtnType",ze),se("primDescBtnType",ze);let Z=y(()=>{let n="text";return s.customizedData&&s.customizedData.sbsNew[_.value[S.value].key]&&s.customizedData.sbsNew[_.value[S.value].key].options.secondaryFooterButton&&(n=s.customizedData.sbsNew[_.value[S.value].key].options.secondaryFooterButton.buttonType),n}),W=y(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.addToCart.buttonType:"text"),z=y(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.backToCart.buttonType:"text");function ce(n,b){let D="";if(s.customizedData){let X=s.customizedData.sbsNew[b]?s.customizedData.sbsNew[b].translations:null;s.customizedData&&X&&X[n]&&(D===""&&X[n][G.value]&&M.value?D=X[n][G.value]:D===""&&X[n].default&&(D=X[n].default))}return D||Q[n]}let Ee=y(()=>Aa(c.getters["entities/getEmployeeServices"](c.getters["booking/getSelection"])));function Ve(){let n=c.getters["entities/getPreselected"];if(n.show==="packages")n.package.length>0&&(_.value.splice(0,1),j.value.splice(0,1),De()),le();else{I();let b=c.getters["entities/filteredEmployees"](c.getters["booking/getSelection"]).length<=1,D=!d.initStep.options.employee.visibility,X=c.getters["entities/filteredLocations"](c.getters["booking/getSelection"]).length<=1,Ie=!d.initStep.options.location.visibility;n.service.length>0&&(n.employee.length>0||b||D)&&(n.location.length>0||X||Ie)&&(Ee.value.availability?(_.value.splice(0,1,Te),j.value.splice(0,1)):(_.value.splice(0,1),j.value.splice(0,1)),le())}}function Pe(n,b,D,X){n.value.map((He,Ze)=>b.includes(He.name)?Ze:null).filter(He=>He!==null).reverse().forEach(He=>{n.value.splice(He,1)});let Ge={value:X};D.forEach(He=>{n.value.indexOf(He)===-1&&(c.getters["entities/getPreselected"].show==="packages"&&c.getters["entities/getPreselected"].package.length>0?n.value.splice(Ge.value,0,He):n.value.splice(Ge.value+1,0,He))})}se("goToPackageStep",{goToPackageStep:et});function et(n){c.commit("booking/setPackageId",n.id),c.commit("booking/setBookableType","package"),c.commit("booking/setMultipleAppointments",It(0,n)),c.commit("booking/setMultipleAppointmentsIndex",0);let b=n.bookable.reduce((Ie,Ge)=>Ie+Ge.maximumScheduled,0),D=[],X=[];_.value[0]!==pe&&D.push("ExtrasStep"),_.value[0]!==ne&&D.push("DateTimeStep"),_.value[0]!==_e&&D.push("CartStep"),b>0?X=X.concat([ve,f,$e]):X.push($e),Pe(_,D,X,S.value),Pe(j,D,[],S.value),le(),ot()}function De(){let b=c.state.entities.packages.find(Ie=>Ie.id===c.getters["booking/getPackageId"]).bookable.reduce((Ie,Ge)=>Ie+Ge.maximumScheduled,0),D=[],X=[];_.value.find(Ie=>Ie.name==="ExtrasStep")&&D.push("ExtrasStep"),_.value.find(Ie=>Ie.name==="DateTimeStep")&&D.push("DateTimeStep"),b>0?X=X.concat([ve,f,$e]):X.push($e),Pe(_,D,X,S.value),Pe(j,D,[],S.value),le(),ot()}function lt(){c.commit("booking/setBookableType","appointment"),c.commit("booking/setMultipleAppointments",[{packageId:null,serviceId:null,index:0,services:{}}]),c.commit("booking/setPackageId",null),c.commit("booking/setMultipleAppointmentsIndex",0),_t(c);let n=[];_.value[0]!==ne&&(Je(c)&&n.push(_e),n.push(ne)),_.value[0]!==pe&&B.value&&B.value.length&&n.push(pe),Pe(_,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],n,S.value-1),Pe(j,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],[],S.value),le()}se("goToRecurringStep",{goToRecurringStep:mt}),se("removeRecurringStep",{removeRecurringStep:H});function mt(){Je(c)&&oa();let n=0;for(let b=0;b<_.value.length;b++)if(_.value[b].name==="DateTimeStep"){n=b;break}_.value.splice(n+1,0,N),_.value.splice(n+2,0,be),le(),ot()}function H(){for(let n=_.value.length-1;n>=0;n--)(_.value[n].name==="RecurringStep"||_.value[n].name==="RecurringSummary")&&_.value.splice(n+1,1);Je(c)&&la(S.value),le()}let B=y(()=>{let n=c.getters["entities/getService"](c.getters["booking/getServiceId"]);return n?n.extras:[]});function I(){B.value.length&&!_.value.find(n=>n.name==="ExtrasStep")&&(_.value.splice(S.value+1,0,pe),le()),j.value.find(n=>n.name==="ExtrasStep")&&!Object.keys(B.value).length&&(_.value.splice(1,1),j.value.splice(1,1)),r.showCart||_t(c)}se("initDataChanges",{changeInitStepDataService:I});const S=P(0);se("stepIndex",S);let Qe=A("stepName",P(""));Ct(S,(n,b)=>{n<j.value.length&&(j.value[b].selected=!1,j.value[n].selected=!0),n===j.value.length&&(j.value[b].selected=!1),Qe.value=_.value[n].name});let Oe=P(!1);se("goBackToPackageBooking",Oe);function gt(){o(!1),he.value||(_.value[S.value].name===$e.name&&lt(),_.value[S.value].name===N.name&&(_.value.splice(S.value,2),j.value.splice(S.value,2),Je(c)&&(_.value.splice(S.value,0,_e),Pe(j,[],[],S.value),le())),_.value[S.value].name===ve.name&&(Oe.value=!0),S.value=S.value-1),ke.value=!ke.value}function ot(){he.value||(j.value[S.value].finished=!0,S.value=S.value+1)}let yt=y(()=>c.getters["entities/getReady"]),ht=y(()=>c.getters["booking/getLoading"]),Xe=y(()=>c.getters["booking/getBooked"]),Et=y(()=>c.getters["booking/getPaymentGateway"]),pt=P(!1),bt=P(!1),ke=P(!1);function Dt(){pt.value=!0}function Lt(){pt.value=!1}function O(){ke.value=!0}function h(){ke.value=!1}function o(n){bt.value=n}function me(){Xe.value&&(Xe.value.customerCabinetUrl?window.location.href=Xe.value.customerCabinetUrl:window.location.href=s.roles.customerCabinet.pageUrl)}se("secondButton",{secondButtonClick:me});let he=P(!1);se("changingStepsFunctions",{nextStep:ot,previousStep:gt,footerButtonClick:Dt,footerButtonReset:Lt,footerBtnDisabledUpdater:o,headerButtonPreviousClick:O,headerButtonPreviousReset:h,footerBtnDisabled:bt,footerButtonClicked:pt,headerButtonPreviousClicked:ke,navigateInsideStep:he});const j=P([]);se("sidebarSteps",j);function qe(n){j.value[S.value].stepSelectedData.filter(b=>b.reference===n.reference).length?j.value[S.value].stepSelectedData.forEach((b,D,X)=>{b.reference===n.reference&&n.value&&n.value!==b.value&&(b.value=n.value),b.reference===n.reference&&!n.value&&X.splice(D,1)}):n.value&&j.value[S.value].stepSelectedData.push(n),j.value[S.value].stepSelectedData.sort((b,D)=>b.position-D.position)}function je(){_.value.forEach((n,b)=>{if(n.name!=="CongratulationsStep"){let D=n.sidebarData.label,X={name:n.name,key:n.key,label:ie.value[D],labelKey:D,icon:n.sidebarData.icon,stepSelectedData:[],finished:!1,selected:b===S.value};j.value.splice(b,0,X)}})}Ot(()=>{je(),Ve()}),Fe(()=>{switch(c.getters["booking/getBookableType"]){case"appointment":r.showCart||_t(c);break}if(r.showCart&&Qt(_,S),oe.value){_.value.splice(0,_.value.length),j.value.splice(0,j.value.length),S.value=0,oe.value.steps.forEach(b=>{switch(b){case"packageStep":_.value.push(Le);break;case"bringingAnyone":_.value.push(Te);break;case"initStep":_.value.push(J);break;case"packageInfoStep":_.value.push($e);break;case"packageAppointmentsStep":_.value.push(f);break;case"packageAppointmentsListStep":_.value.push(ve);break;case"extrasStep":_.value.push(pe);break;case"dateTimeStep":_.value.push(ne);break;case"recurringStep":_.value.push(N);break;case"recurringSummary":_.value.push(be);break;case"cartStep":_.value.push(_e);break;case"infoStep":_.value.push(fe);break;case"paymentStep":_.value.push(ee);break;case"congratulations":_.value.push(Se);break}let D=oe.value.sidebar.find(X=>X.key===b);le(),typeof D!="undefined"&&D.data&&D.data.forEach(X=>{qe({reference:X.reference,position:X.position,value:X.value})}),S.value++}),c.commit("booking/setLoading",!1);let n=-1;oe.value.result==="success"?n=_.value.length-1:(oe.value.result==="error"||oe.value.result==="canceled")&&(n=_.value.length-2);for(let b=0;b<=n;b++)_.value[b].finished=!0;for(let b=0;b<=n-1;b++)j.value[b].finished=!0,j.value[b].selected=!1;(oe.value.result==="error"||oe.value.result==="canceled")&&(j.value[n].finished=!1,j.value[n].selected=!0),S.value=n}});function le(){_.value.forEach((n,b)=>{if(n.name!=="CongratulationsStep"&&!j.value.find(D=>D.labelKey===n.sidebarData.label)){let D=n.sidebarData.label,X={name:n.name,key:n.key,label:ie.value[D],labelKey:D,icon:n.sidebarData.icon,stepSelectedData:[],finished:!1,selected:b===S.value};j.value.splice(b,0,X)}})}se("sidebarStepsFunctions",{sidebarDataCollector:qe}),se("addPaymentsStep",{addPaymentsStep:jt}),se("removePaymentsStep",{removePaymentsStep:Ht});function jt(){_.value.splice(_.value.length-1,0,ee),le()}function Ht(){let n=["PaymentStep"];Pe(_,n,[],S.value),Pe(j,n,[],S.value)}function la(n){Pe(_,[],[_e],n),Pe(j,[],[],n)}function oa(){Pe(_,["CartStep"],[],S.value),Pe(j,["CartStep"],[],S.value)}function na(){if(c.getters["entities/getPreselected"].show==="packages"){let b=c.getters["booking/getPackageId"]?[c.getters["entities/getPackage"](c.getters["booking/getPackageId"])]:c.getters["entities/getPackages"];return b.length>0&&b.filter(D=>D.price>0).length===b.length}if(!c.getters["booking/getPackageId"]){let b=c.getters["booking/getServiceId"]?[c.getters["entities/getService"](c.getters["booking/getServiceId"])]:c.getters["entities/getServices"],D=0;for(let X of b){let Ie=c.getters["booking/getEmployeeId"]?c.getters["entities/getEmployee"](c.getters["booking/getEmployeeId"])?[c.getters["entities/getEmployee"](c.getters["booking/getEmployeeId"])]:[]:c.getters["entities/getEmployees"],Ge=c.getters["booking/getBookingDuration"];if(Ie.filter(Ze=>Ze.serviceList.find(Ne=>Ne.id===X.id&&(Ne.price>0||Ne.customPricing&&Ne.customPricing.enabled&&(Object.values(Ne.customPricing.durations).length===Object.values(Ne.customPricing.durations).filter(Tt=>Tt.price>0).length||Ge&&Ne.customPricing.durations[Ge].price>0)))).length===Ie.filter(Ze=>Ze.serviceList.find(Ne=>Ne.id===X.id)).length)D++;else{let Ze=c.getters["booking/getSelectedExtras"].length?c.getters["booking/getSelectedExtras"]:[];Ze.length>0&&Ze.reduce((Ne,Tt)=>Ne+Tt.price,0)>0&&D++}}return b.length>0&&D===b.length}return c.getters["entities/getPackage"](c.getters["booking/getPackageId"]).price>0}let ca=y(()=>Bt(c).length?Ra(c)!==0:na());Oa(()=>{let n=Bt(c);!n[0].serviceId&&Object.keys(n[0].services).length===0&&k("emptiedCart"),!oe.value&&!ca.value?Ht():oe.value||_.value.indexOf(ee)===-1&&jt()},{flush:"post"});function ra(){j.value.forEach(n=>{n.finished=!1,n.selected=!1}),_.value.forEach(n=>{n.finished=!1,n.selected=!1}),S.value=0,ea(c,!0),Ha(c),_t(c),k("addToCart")}function ua(){let n=c.getters["booking/getCurrentCartItem"],b=c.getters["booking/getAllMultipleAppointments"];n?(c.commit("booking/setCartItem",n),c.commit("booking/setCartItemIndex",b.length-1),c.commit("booking/setCurrentCartItem",null)):(b.pop(),c.commit("booking/setCartItemIndex",b.length-1),c.commit("booking/setServiceId",b[b.length-1].serviceId),c.commit("booking/setEmployeeId",b[b.length-1].services[b[b.length-1].serviceId].providerId),c.commit("booking/setLocationId",b[b.length-1].services[b[b.length-1].serviceId].locationId)),Qt(_,S)}let Ce=y(()=>s.customizedData?s.customizedData.sbsNew.colors:ct.sbsNew.colors);se("amColors",Ce);let da=y(()=>({"--am-c-primary":Ce.value.colorPrimary,"--am-c-success":Ce.value.colorSuccess,"--am-c-error":Ce.value.colorError,"--am-c-warning":Ce.value.colorWarning,"--am-c-main-bgr":Ce.value.colorMainBgr,"--am-c-main-heading-text":Ce.value.colorMainHeadingText,"--am-c-main-text":Ce.value.colorMainText,"--am-c-sb-bgr":Ce.value.colorSbBgr,"--am-c-sb-text":Ce.value.colorSbText,"--am-c-inp-bgr":Ce.value.colorInpBgr,"--am-c-inp-border":Ce.value.colorInpBorder,"--am-c-inp-text":Ce.value.colorInpText,"--am-c-inp-placeholder":Ce.value.colorInpPlaceHolder,"--am-c-drop-bgr":Ce.value.colorDropBgr,"--am-c-drop-text":Ce.value.colorDropText,"--am-c-btn-prim":Ce.value.colorBtnPrim,"--am-c-btn-prim-text":Ce.value.colorBtnPrimText,"--am-c-btn-sec":Ce.value.colorBtnSec,"--am-c-btn-sec-text":Ce.value.colorBtnSecText,"--am-c-skeleton-op20":ae(Ce.value.colorMainText,.2),"--am-c-skeleton-op60":ae(Ce.value.colorMainText,.6),"--am-font-family":x.value.fontFamily,"--am-mw-main":L.value?C.value?"592px":"760px":"520px","--am-brad-main":L.value?"0 0.5rem 0.5rem 0":"0.5rem"}));function ma(){let n=document.head||document.getElementsByTagName("head")[0];n.querySelector("#amCustomFont")&&n.querySelector("#amCustomFont").remove();let b=`@font-face {font-family: '${x.value.fontFamily}'; src: url(${x.value.fontUrl});}`,D=document.createElement("style");n.appendChild(D),D.setAttribute("type","text/css"),D.setAttribute("id","amCustomFont"),D.appendChild(document.createTextNode(b))}x.value.customFontSelected&&ma();let pa=y(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",pa),Fe(()=>{Zt("renderForm",{ameliaContainer:w,containerWidth:$,empty:T,amCustomize:d,amFonts:x,sidebarCollapsed:C,sidebarCollapseItemsClass:E,sidebarFooterRef:U,sidebarFooterHeight:te,sidebarVisibility:L})}),(n,b)=>(t(),i(K,null,[x.value.customFontSelected?u("",!0):(t(),i(K,{key:0},[Oi,Mi,a("link",{rel:"stylesheet",type:"text/css",href:`${e(F).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Vi)],64)),e(T)?(t(),i("div",ss,[a("img",{src:e(F).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",style:{"margin-top":"10px"}},null,8,ls),a("h1",null,l(e(ie).oops),1),a("h3",null,l(e(ie).no_services_employees),1),a("p",null,l(e(ie).add_services_employees),1),a("a",os,l(e(ie).add_services_url)+"\xA0 ",1),a("span",ns,l(e(ie).and)+"\xA0",1),a("a",cs,l(e(ie).add_employees_url),1)])):(t(),i("div",{key:1,id:"amelia-container",ref_key:"ameliaContainer",ref:w,class:V(["am-fs__wrapper",{"am-collapsed":e(C)}]),style:re(e(da))},[e($)>560&&e(L)?(t(),ge(Na,{key:0,class:V(["am-fs-sb",{"am-collapsed":e(C)}]),style:re({width:e(C)?"72px":"240px",paddingBottom:`${e(te)+16}px`})},{"step-list":R(()=>[a("div",Ni,[_.value[S.value]!==e(Se)||!e(s).general.addToCalendar||e(Xe)&&e(Xe).data.length===0?(t(!0),i(K,{key:0},ye(j.value,D=>(t(),i("div",{key:D.key,class:"am-fs-sb__step"},[a("div",Ui,[a("div",Wi,[a("span",{class:V(`am-icon-${D.icon}`)},null,2),D.key==="cartStep"&&e(Ue)(e(c))!==0?(t(),i("span",{key:0,class:V(["am-fs-sb__step-icon__number",e(E)])},l(e(Ue)(e(c))),3)):u("",!0)]),Y(Ye,{name:"fade"},{default:R(()=>[e(C)?u("",!0):(t(),i("p",{key:0,class:V(["am-fs-sb__step-heading",e(E)])},l(D.label),3))]),_:2},1024),a("div",{class:V(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":D.selected},e(E)]])},[Y(Ye,{name:"fade"},{default:R(()=>[D.finished?(t(),i("span",ji)):u("",!0)]),_:2},1024)],2)]),Y(Ma,{tag:"span",name:"fade",appear:"",class:V(["am-fs-sb__step-selection__wrapper",{"am-fs-sb__step-selection-packages":D.key===e(f).key&&D.stepSelectedData.length>3}])},{default:R(()=>[e(C)?u("",!0):(t(!0),i(K,{key:0},ye(D.stepSelectedData,(X,Ie)=>(t(),i("p",{key:X.position,class:"am-fs-sb__step-selection"},[D.key!==e(f).key||Ie<3?(t(),i("span",Hi,l(X.value),1)):(t(),i("span",qi,l(e(ie).plus_more),1))]))),128))]),_:2},1032,["class"])]))),128)):(t(),i("div",Gi,[Y(Ye,{name:"fade"},{default:R(()=>[e(C)?u("",!0):(t(),ge(Va,{key:0}))]),_:1}),e(C)?(t(),i("div",Ji,[a("div",Yi,[a("div",Qi,[a("span",{class:V(`am-icon-${_.value[S.value].sidebarData.icon}`)},null,2)]),a("div",{class:V(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":_.value[S.value].sidebarData.selected},e(E)]])},[Y(Ye,{name:"fade"},{default:R(()=>[_.value[S.value].sidebarData.finished?(t(),i("span",Xi)):u("",!0)]),_:1})],2)])])):u("",!0)]))])]),"support-info":R(()=>[a("div",{ref_key:"sidebarFooterRef",ref:U,class:"am-fs-sb__footer"},[(e(s).company.email||e(s).company.phone)&&(e(g).heading||e(g).phone||e(g).email)?(t(),i("div",Zi,[Y(Ye,{name:"fade"},{default:R(()=>[!e(C)&&e(g).heading?(t(),i("div",{key:0,class:V(["am-fs-sb__support-heading",e(E)])},l(e(ie).get_in_touch),3)):u("",!0)]),_:1}),e(s).company.phone&&e(g).phone?(t(),i("a",{key:0,class:"am-fs-sb__support-email",href:`tel:${e(s).company.phone}`},[e(C)?(t(),i("span",es)):(t(),i(K,{key:0},[de(l(e(s).company.phone),1)],64))],8,Ki)):u("",!0),e(s).company.email&&e(g).email?(t(),i("a",{key:1,class:"am-fs-sb__support-email",href:`mailto:${e(s).company.email}`},[e(C)?(t(),i("span",as)):(t(),i(K,{key:0},[de(l(e(s).company.email),1)],64))],8,ts)):u("",!0)])):u("",!0),a("div",{class:V(["am-fs-sb__menu",e(E)]),onClick:b[0]||(b[0]=D=>ue(C)?C.value=!e(C):C=!e(C))},[Y(Ye,{name:"fade"},{default:R(()=>[e(C)?u("",!0):(t(),i("span",is,l(e(ie).collapse_menu),1))]),_:1}),a("span",{class:V(`am-icon-arrow-circle-${e(C)?"left":"right"}`)},null,2)],2)],512)]),_:1},8,["class","style"])):u("",!0),Y(ja,null,Mt({step:R(()=>[(t(),ge(Kt(_.value[S.value]),{"global-class":"am-fs__main-content"}))]),footer:R(()=>[Y(e(Wa),{"second-button-show":_.value[S.value]===e(Se)&&e(s).roles.customerCabinet.enabled&&e(s).roles.customerCabinet.pageUrl!==null,"add-to-cart-button-show":e(Je)(e(c))&&_.value[S.value]===e(_e),"back-to-cart-button-show":e(Je)(e(c))&&e(Be).length>1&&_.value[S.value]!==e(_e)&&_.value[S.value]!==e(fe)&&_.value[S.value]!==e(ee)&&_.value[S.value]!==e(Se),booked:e(Xe),loading:e(ht),ready:e(yt),"payment-gateway":e(Et),"customized-labels":e(We),"primary-footer-button-type":e(ze),"secondary-footer-button-type":e(Z),"add-to-cart-button-type":e(W),"back-to-cart-button-type":e(z),"back-to-cart-label":ce("cancel","cartStep"),onAddToCart:ra,onBackToCart:ua},null,8,["second-button-show","add-to-cart-button-show","back-to-cart-button-show","booked","loading","ready","payment-gateway","customized-labels","primary-footer-button-type","secondary-footer-button-type","add-to-cart-button-type","back-to-cart-button-type","back-to-cart-label"])]),_:2},[_.value[S.value]!==e(Se)?{name:"header",fn:R(()=>[Y(Ua,{"sidebar-visible":e(L),ready:e(yt)},null,8,["sidebar-visible","ready"])])}:void 0]),1024)],6))],64))}});const us={class:"am-fcil__filter-buttons"},ds={class:"am-fcil__filter"},ms={class:"am-fcil__filter-item__btn-wrapper"},ps={class:"am-fcil__heading"},_s={key:0,class:"am-fcil__item-badge__wrapper"},fs={class:"am-fcil__item-badge am-package"},vs=a("span",{class:"am-icon-shipment"},null,-1),gs={class:"am-fcil__item-heading"},ys={class:"am-fcil__item-name"},hs={key:0,class:"am-fcil__item-cost"},bs={key:0,class:"am-fcil__item-discount"},ks={class:"am-fcil__item-price"},Cs={key:1,class:"am-fcil__item-price"},$s={class:"am-fcil__item-info"},Ss={key:0,class:"am-fcil__item-info__inner"},ws=a("span",{class:"am-icon-folder"},null,-1),xs={key:1,class:"am-fcil__item-info__inner"},Ps=a("span",{class:"am-icon-clock"},null,-1),Is={key:0},Es={key:1},Ds={key:2},Ls={key:2,class:"am-fcil__item-info__inner"},Ts=a("span",{class:"am-icon-user"},null,-1),Bs=a("span",null,"1/1",-1),Fs=[Ts,Bs],zs={key:3,class:"am-fcil__item-info__inner"},As=a("span",{class:"am-icon-locations"},null,-1),Rs={key:2,class:"am-fcil__item-services"},Os={key:0,class:"am-fcil__item-badge__wrapper"},Ms={class:"am-fcil__item-badge am-service"},Vs=a("span",{class:"am-icon-service"},null,-1),Ns={class:"am-fcil__item-heading"},Us={class:"am-fcil__item-name"},Ws={key:0,class:"am-fcil__item-cost"},js={key:0,class:"am-fcil__item-price"},Hs={key:1,class:"am-fcil__item-price"},qs={class:"am-fcil__item-info"},Gs={key:0,class:"am-fcil__item-info__inner"},Js=a("span",{class:"am-icon-folder"},null,-1),Ys={key:1,class:"am-fcil__item-info__inner"},Qs=a("span",{class:"am-icon-clock"},null,-1),Xs={key:2,class:"am-fcil__item-info__inner"},Zs=a("span",{class:"am-icon-user"},null,-1),Ks={key:3,class:"am-fcil__item-info__inner"},el=a("span",{class:"am-icon-locations"},null,-1),tl={class:"am-fcil-employee__header"},al={class:"am-fcil-employee__heading"},il={class:"am-fcil-employee__heading-left"},sl={class:"am-fcil-employee__name"},ll={key:0,class:"am-fcil-employee__heading-right"},ol={class:"am-fcil-employee__price"},nl=["innerHTML"],cl={key:1,ref:"ameliaContainer",class:"am-empty"},rl=["src"],ul={class:"am-empty__heading"},dl={class:"am-empty__subheading"},ml={class:"am-empty__text"},pl={key:0},_l={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},fl={key:1},vl={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},gl={name:"CategoryItemsList",key:"categoryItemsList"},yl=Object.assign(gl,{setup(p){let k=A("licence"),{nextPage:r,previousPage:w}=A("changingPageFunctions",{nextPage:()=>{},previousPage:()=>{}});const $=A("baseUrls");let T=P(!1),m=P(!1),s=P("760px");se("bookingDialogWidth",s);function d(){s.value="760px"}let g=P(!1),x=P(),C=A("containerWidth"),E=A("customizedDataForm"),v=y(()=>E.value.categoryItemsList.options),U=y(()=>"pageScroll"in v.value?v.value.pageScroll.visibility:!0);const te=A("settings");let L=it();const F=A("shortcodeData"),c=y(()=>L.getters["entities/getPreselected"]);let q=y(()=>{let O=Array.isArray(F.value.category)?F.value.category:F.value.category.split(",");return O=O.filter(h=>h),O.length}),oe=y(()=>{let O=x.value&&x.value.catContainerWidth?x.value.catContainerWidth>768:!0;return q.value!==1&&v.value.sidebar.visibility&&O}),J=A("amEntities"),pe=y(()=>Je(L)&&Ue(L)>0),$e=y(()=>Ue(L));const N=A("labels"),be=A("localLanguage");let ne=y(()=>te.general.usedLanguages.includes(be.value)),f=y(()=>{let O=st(tt({},N));if(te.customizedData&&te.customizedData.cbf&&te.customizedData.cbf.categoryItemsList.translations){let h=te.customizedData.cbf.categoryItemsList.translations;Object.keys(h).forEach(o=>{h[o][be.value]&&ne.value?O[o]=h[o][be.value]:h[o].default&&(O[o]=h[o].default)})}return O}),ve=P(""),Se={components:{IconComponent:Pt},template:'<IconComponent icon="search"/>'},_e=P(!0),fe={components:{IconComponent:Pt},template:'<IconComponent icon="filter"/>'},ee=y(()=>x.value&&x.value.catHeaderWidth?x.value.catHeaderWidth:0);window.addEventListener("resize",Le);function Le(){xe(()=>{ee.value>480&&(_e.value=!0)})}Fe(()=>{Le()});function Te(O){let h=[];return ve.value.toLowerCase().split(" ").forEach(o=>{h.push(O.toLowerCase().includes(o))}),h.filter(o=>o===!1).length<=0}let _=A("availableCategories"),Q=y(()=>{let O=[..._.value],h=[];return O.forEach(o=>{h.push({id:o.id,name:o.name})}),h.unshift({id:0,name:f.value.filter_all}),h}),G=A("categorySelected"),M=y(()=>kt(J.value,F.value,We.value,ze.value)),Be=y(()=>{let O=[];return M.value.find(h=>h.id===G.value)?J.value.packages.forEach(h=>{M.value.find(o=>o.id===G.value).packageList.forEach(o=>{h.id===o&&(ve.value?Te(h.name):!0)&&O.push(h)})}):J.value.packages.forEach(h=>{M.value.forEach(o=>{o.packageList.forEach(me=>{h.id===me&&!O.find(he=>he.id===me)&&(ve.value?Te(h.name):!0)&&O.push(h)})})}),O}),ie=y(()=>{let O=[];return G.value&&M.value.find(h=>h.id===G.value)?J.value.services.forEach(h=>{M.value.find(o=>o.id===G.value).serviceIdList.forEach(o=>{h.id===o&&(ve.value?Te(h.name):!0)&&O.push(h)})}):J.value.services.forEach(h=>{M.value.forEach(o=>{o.serviceIdList.forEach(me=>{h.id===me&&(ve.value?Te(h.name):!0)&&O.push(h)})})}),O}),We=P(null),ze=P(null),Z=P(!0),W=P(!0);function z(O){O==="all"&&(Z.value=!0,W.value=!0),O==="packages"&&(Z.value=!0,W.value=!1),O==="services"&&(Z.value=!1,W.value=!0)}Ot(()=>{c.value.show&&z(c.value.show)});let ce=y(()=>{let O=F.value.employee,h=J.value.employees.length,o=F.value.location,me=J.value.locations.length,he=v.value.searchInput.visibility,j=v.value.filterEmployee.visibility&&O.length!==1&&h>1&&!k.isLite,qe=v.value.filterLocation.visibility&&o.length!==1&&me>1&&!k.isLite&&!k.isStarter,je=v.value.filterButtons.visibility&&c.value.show!=="packages"&&c.value.show!=="services"&&Be.value.length!==0&&ie.value.length!==0&&!Ue(L),le={search:"am-w30",employee:"am-w20",location:"am-w20",buttons:"am-w30",category:"am-w100"};return ee.value>992?!he||!je?(le.employee=!he&&!je?"am-w50":"am-w35",le.location=!he&&!je?"am-w50":"am-w35",le.search=!je&&!qe&&!j?"am-w100":"am-w30",j||(le.location=!he&&!je?"am-w100":"am-w70"),qe||(le.employee=!he&&!je?"am-w100":"am-w70")):(j||(le.location="am-w40"),qe||(le.employee="am-w40"),!j&&!qe&&(le.search="am-w70")):ee.value>768||ee.value>480?(le.search=je?"am-w50 am-tablet am-order1":"am-w100 am-tablet am-order1",le.buttons=he?"am-w50 am-tablet am-order2":"am-w100 tablet am-order2",le.employee=qe?"am-w50 am-tablet am-order3":"am-w100 am-tablet am-order3",le.location=j?"am-w50 am-tablet am-order4":"am-w100 am-tablet am-order4",le.category="am-w100 am-tablet am-order5"):(le.employee="am-w100 am-mobile",le.location="am-w100 am-mobile",le.search="am-w100 am-mobile",le.buttons="am-w100 am-mobile",le.category="am-w100 am-mobile"),le}),Ee=y(()=>x.value&&x.value.catContainerWidth?x.value.catContainerWidth:0),Ve=y(()=>{let O=Be.value.length&&!Ue(L)?Be.value.length:0,h=ie.value.length>1?f.value.heading_services:f.value.heading_service,o=O?O>1?f.value.packages:f.value.package:"";if(!ie.value.length&&!O)return f.value.no_search_data;if(W.value&&(!Z.value||!O))return`${f.value.available} - ${ie.value.length} ${h}`;if((!W.value||!ie.value.length)&&Z.value)return`${f.value.available} - ${O} ${o}`;let me=O?"/":"";return`${f.value.available} - ${ie.value.length} ${h} ${me} ${O} ${o}`});Fe(()=>{xe(()=>{T.value=Be.value.length===0&&ie.value.length===0})});function Pe(O){const h=O.id===0?null:O.id;G.value=h,L.commit("booking/setCategoryId",h)}let et=A("itemType");function De(O){L.commit("booking/setServiceId",parseInt(O)),L.commit("booking/setBookableType","appointment"),et.value="appointment",ft(L,{},"SelectService","appointment",null,null),xe(()=>{r()})}function lt(O){L.commit("booking/setServiceId",null),L.commit("booking/setPackageId",O.id),L.commit("booking/setBookableType","package"),L.commit("booking/setMultipleAppointments",It(0,O)),L.commit("booking/setCartItemIndex",0),et.value="package",ft(L,{},"SelectPackage","package",null,null),xe(()=>{r()})}function mt(){G.value=null,L.commit("booking/setCategoryId",null),w()}function H(){Rt(L),g.value=!0,m.value=!0}let B=P(!1),I=P(""),S=P([]),Qe=P({}),Oe=P(null);function gt(){I.value="",S.value=[],Qe.value={},Oe.value=null}function ot(O){S.value=sa(J.value,O,F.value),Qe.value=O,B.value=!0}function yt(O){let h=[];Object.keys(J.value.entitiesRelations).forEach(me=>{me in J.value.entitiesRelations&&O in J.value.entitiesRelations[me]&&J.value.employees.find(he=>he.id===parseInt(me))&&h.push(J.value.employees.find(he=>he.id===parseInt(me)))}),S.value=h,I.value="service",B.value=!0,Oe.value=O}function ht(O){let h=J.value.services.find(me=>me.id===Oe.value).price,o=O.serviceList.find(me=>me.id===Oe.value).price;return o!==h?`${o-h>0?h>0?"+":"":"-"} ${Ke(o-h)}`:0}function Xe(){I.value==="service"?De(Oe.value):lt(Qe.value),gt()}function Et(O,h){let o="";return O>1?(h==="day"&&(o=f.value.expires_days),h==="week"&&(o=f.value.expires_weeks),h==="month"&&(o=f.value.expires_months)):(h==="day"&&(o=f.value.expires_day),h==="week"&&(o=f.value.expires_week),h==="month"&&(o=f.value.expires_month)),o}function pt(O,h){return Ae(O,h).length===1?Ae(O,h)[0].address?Ae(O,h)[0].address:Ae(O,h)[0].name:f.value.multiple_locations}let bt=A("amFonts",P({fontFamily:"Amelia Roboto, sans-serif",fontUrl:"",customFontFamily:"",fontFormat:"",customFontSelected:!1})),ke=A("amColors"),Dt=y(()=>({"--am-c-fcil-text-op-10":ae(ke.value.colorSbText,.1),"--am-c-fcil-main-text-op15":ae(ke.value.colorMainText,.15),"--am-c-fcil-card-text-op15":ae(ke.value.colorCardText,.15),"--am-c-fcil-card-text-op80":ae(ke.value.colorCardText,.8),"--am-c-fcil-primary-op20":ae(ke.value.colorPrimary,.2),"--am-c-fcil-success-op20":ae(ke.value.colorSuccess,.2),"--am-c-fcil-filter-text-op10":ae(ke.value.colorInpText,.1),"--am-w-fcil-main":_.value.length!==1&&q.value!==1&&v.value.sidebar.visibility&&oe.value?"calc(100% - 220px)":"100%","--am-w-fcil-card":x.value&&x.value.catFormWidth<580?"100%":"50%"})),Lt=y(()=>({"--am-f-fcil-employee-f":bt.value.fontFamily,"--am-c-fcil-employee-bgr":ke.value.colorMainBgr,"--am-c-fcil-employee-heading":ke.value.colorMainHeadingText,"--am-c-fcil-employee-text":ke.value.colorMainText,"--am-c-fcil-employee-text-op80":ae(ke.value.colorMainText,.8),"--am-c-fcil-employee-text-op15":ae(ke.value.colorMainText,.15),"--am-c-fcil-employee-primary":ke.value.colorPrimary,"--am-c-fcil-employee-primary-op10":ae(ke.value.colorPrimary,.1),"--am-c-inp-border":ke.value.colorInpBorder,"--am-c-main-text":ke.value.colorMainText}));return(O,h)=>e(T)?(t(),i("div",cl,[a("img",{src:e($).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:"Empty"},null,8,rl),a("div",ul,l(e(f).oops),1),a("div",dl,l(e(c).show!=="packages"?e(f).no_services_employees:e(f).no_package_services),1),a("div",ml,[e(c).show!=="packages"?(t(),i("span",pl,l(e(f).add_services_employees)+"\xA0 ",1)):u("",!0),a("a",_l,l(e(f).add_services_url)+"\xA0 ",1),e(c).show!=="packages"?(t(),i("span",fl,l(e(f).and)+"\xA0 ",1)):u("",!0),e(c).show!=="packages"?(t(),i("a",vl,l(e(f).add_employees_url),1)):u("",!0)])],512)):(t(),ge(Ut,{key:0,ref_key:"contentRef",ref:x,"wrapper-class":`am-fcil ${e(C)<481?"am-mobile":""}`,"form-class":`am-fcil__main ${e(C)<481?"am-mobile":""}`,"content-class":`am-fcil__wrapper ${e(C)<481?"am-mobile":""} ${e(U)?"":"no-scroll"}`,style:re(e(Dt))},Mt({header:R(()=>[a("span",us,[e(q)!==1&&!e(F).categories_hidden&&e(_).length!==1?(t(),ge(Nt,{key:0,"btn-size":e(ee)<481?"medium":"mini","btn-string":e(f).back_btn,"btn-type":e(v).backBtn.buttonType,"cart-btn-visibility":e(pe),"cart-items-number":e($e),onGoBack:mt,onGoToCart:H},null,8,["btn-size","btn-string","btn-type","cart-btn-visibility","cart-items-number"])):u("",!0),e(ee)<481?(t(),ge(Re,{key:1,size:"medium",category:"secondary",type:e(v).filterMenuBtn.buttonType,"custom-class":"am-fcil__filter-buttons__menu","icon-only":!0,icon:e(fe),onClick:h[0]||(h[0]=()=>ue(_e)?_e.value=!e(_e):_e=!e(_e))},null,8,["type","icon"])):u("",!0)]),a("div",ds,[e(v).searchInput.visibility?(t(),i("div",{key:0,class:V(["am-fcil__filter-item",e(ce).search])},[Y(qa,{modelValue:e(ve),"onUpdate:modelValue":h[1]||(h[1]=o=>ue(ve)?ve.value=o:ve=o),placeholder:e(f).filter_input,"icon-start":e(Se)},null,8,["modelValue","placeholder","icon-start"])],2)):u("",!0),Y(Ye,{name:"slide-fade"},{default:R(()=>[e(F).employee.length!==1&&e(J).employees.length>1&&e(v).filterEmployee.visibility&&e(_e)&&!e(k).isLite?(t(),i("div",{key:0,class:V(["am-fcil__filter-item",e(ce).employee])},[Y(Ft,{modelValue:e(We),"onUpdate:modelValue":h[2]||(h[2]=o=>ue(We)?We.value=o:We=o),clearable:"",filterable:"",placeholder:e(f).filter_employee,"fit-input-width":!0},{default:R(()=>[(t(!0),i(K,null,ye(e(J).employees,o=>(t(),ge(zt,{key:o.id,value:o.id,label:`${o.firstName} ${o.lastName}`},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):u("",!0)]),_:1}),Y(Ye,{name:"slide-fade"},{default:R(()=>[e(F).location.length!==1&&e(J).locations.length>1&&e(v).filterLocation.visibility&&e(_e)&&!e(k).isLite&&!e(k).isStarter?(t(),i("div",{key:0,class:V(["am-fcil__filter-item",e(ce).location])},[Y(Ft,{modelValue:e(ze),"onUpdate:modelValue":h[3]||(h[3]=o=>ue(ze)?ze.value=o:ze=o),clearable:"",filterable:"",placeholder:e(f).filter_location,"fit-input-width":!0},{default:R(()=>[(t(!0),i(K,null,ye(e(J).locations,o=>(t(),ge(zt,{key:o.id,value:o.id,label:o.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):u("",!0)]),_:1}),Y(Ye,{name:"slide-fade"},{default:R(()=>[e(_).length!==1&&e(q)!==1&&e(v).sidebar.visibility&&!e(oe)&&e(_e)?(t(),i("div",{key:0,class:V(["am-fcil__filter-item am-w100",e(ce).category])},[Y(Ft,{modelValue:e(G),"onUpdate:modelValue":h[4]||(h[4]=o=>ue(G)?G.value=o:G=o),clearable:!1,filterable:!1,placeholder:"","fit-input-width":!0},{default:R(()=>[(t(!0),i(K,null,ye(e(Q),o=>(t(),ge(zt,{key:o.id,value:o.id,label:o.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])],2)):u("",!0)]),_:1}),!e(c).show&&e(v).filterButtons.visibility&&e(Be).length!==0&&e(ie).length!==0&&!e(Ue)(e(L))?(t(),i("div",{key:1,class:V(["am-fcil__filter-item",e(ce).buttons])},[a("div",ms,[a("div",{class:V(["am-fcil__filter-item__btn",{"am-active":e(Z)&&e(W)}]),onClick:h[5]||(h[5]=o=>z("all"))},[a("span",null,l(e(f).filter_all),1)],2),a("div",{class:V(["am-fcil__filter-item__btn",{"am-active":e(Z)&&!e(W)}]),onClick:h[6]||(h[6]=o=>z("packages"))},[a("span",null,l(e(f).filter_packages),1)],2),a("div",{class:V(["am-fcil__filter-item__btn",{"am-active":!e(Z)&&e(W)}]),onClick:h[7]||(h[7]=o=>z("services"))},[a("span",null,l(e(f).filter_services),1)],2)])],2)):u("",!0)])]),heading:R(()=>[a("div",ps,l(e(Ve)),1)]),content:R(()=>[e(Z)&&!e(Ue)(e(L))?(t(!0),i(K,{key:0},ye(e(Be),o=>{var me,he;return t(),i("div",{key:o.id,class:V(["am-fcil__item",{"am-mobile":e(Ee)<481}])},[a("div",{class:V(["am-fcil__item-inner",{"am-mobile":e(Ee)<481}])},[a("div",{class:"am-fcil__item-content",style:re(e(v).cardColor&&e(v).cardColor.visibility?{backgroundColor:e(ae)(o.color,.1)}:{})},[e(v).packageBadge.visibility?(t(),i("div",_s,[a("div",fs,[vs,a("span",null,l(e(f).package),1)])])):u("",!0),o.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:re({backgroundImage:`url(${o.pictureFullPath})`})},null,4)):u("",!0),a("div",gs,[a("div",ys,l(o.name),1),e(v).packagePrice.visibility?(t(),i("div",hs,[o.discount?(t(),i("span",bs,l(`${e(f).save} ${o.discount}%`),1)):u("",!0),a("span",ks,l(o.price?e(Ke)(e(Vt)(o)):e(f).free),1),o.price&&((he=(me=e(v).tax)==null?void 0:me.visibility)!=null?he:!0)&&e(vt)(e(L),o.id,"package")?(t(),i("span",Cs,[e(te).payments.taxes.excluded?(t(),i(K,{key:0},[de(l(`+${e(f).total_tax_colon}`),1)],64)):(t(),i(K,{key:1},[de(l(e(f).incl_tax),1)],64))])):u("",!0)])):u("",!0)]),a("div",$s,[e(v).packageCategory.visibility&&e(G)?(t(),i("div",Ss,[ws,a("span",null,l(e(_).find(j=>j.id===e(G)).name),1)])):u("",!0),e(v).packageDuration.visibility?(t(),i("div",xs,[Ps,o.endDate?(t(),i("span",Is,l(`${e(f).expires_at} ${o.endDate.split(" ")[0]}`),1)):o.durationCount?(t(),i("span",Es,l(`${e(f).expires_after} ${o.durationCount} ${Et(o.durationCount,o.durationType)}`),1)):(t(),i("span",Ds,l(e(f).without_expiration),1))])):u("",!0),e(v).packageCapacity.visibility?(t(),i("div",Ls,Fs)):u("",!0),e(nt)(e(J),o,e(F)).length&&e(v).packageLocation.visibility?(t(),i("div",zs,[As,a("span",null,l(e(nt)(e(J),o,e(F)).length===1?e(nt)(e(J),o,e(F))[0].address?e(nt)(e(J),o,e(F))[0].address:e(nt)(e(J),o,e(F))[0].name:e(f).multiple_locations),1)])):u("",!0)]),e(v).packageServices.visibility?(t(),i("div",Rs,[a("span",null,l(`${e(f).in_package}:`),1),(t(!0),i(K,null,ye(o.bookable,j=>(t(),i("span",{key:j.id},l(j.service.name),1))),128))])):u("",!0)],4),a("div",{class:V(["am-fcil__item-footer",[{"am-mobile":e(Ee)<481},{"am-micro":e(Ee)<320}]])},[e(v).cardEmployeeBtn.visibility?(t(),ge(Re,{key:0,class:V({"am-w100":e(Ee)<320}),size:"small",type:e(v).cardEmployeeBtn.buttonType,onClick:j=>ot(o)},{default:R(()=>[de(l(e(f).view_employees),1)]),_:2},1032,["class","type","onClick"])):u("",!0),Y(Re,{class:V([{"am-w100":!e(v).cardEmployeeBtn.visibility},{"am-micro am-w100":e(Ee)<320}]),size:"small",type:e(v).cardContinueBtn.buttonType,onClick:j=>lt(o)},{default:R(()=>[de(l(e(f).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2)}),128)):u("",!0),e(W)?(t(!0),i(K,{key:1},ye(e(ie),o=>{var me,he;return t(),i("div",{key:o.id,class:V(["am-fcil__item",{"am-mobile":e(Ee)<481}])},[a("div",{class:V(["am-fcil__item-inner",{"am-mobile":e(Ee)<481}])},[a("div",{class:"am-fcil__item-content",style:re(e(v).cardColor&&e(v).cardColor.visibility?{backgroundColor:e(ae)(o.color,.1)}:{})},[e(v).serviceBadge.visibility?(t(),i("div",Os,[a("div",Ms,[Vs,a("span",null,l(e(f).heading_service),1)])])):u("",!0),o.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:re({backgroundImage:`url(${o.pictureFullPath})`})},null,4)):u("",!0),a("div",Ns,[a("div",Us,l(o.name),1),e(v).servicePrice.visibility?(t(),i("div",Ws,[e(ut)(e(J),o.id).min||e(ut)(e(J),o.id).max?(t(),i("span",js,l(e(ut)(e(J),o.id).price),1)):u("",!0),((he=(me=e(v).tax)==null?void 0:me.visibility)!=null?he:!0)&&e(vt)(e(L),o.id,"service")?(t(),i("span",Hs,[e(te).payments.taxes.excluded?(t(),i(K,{key:0},[de(l(`+${e(f).total_tax_colon}`),1)],64)):(t(),i(K,{key:1},[de(l(e(f).incl_tax),1)],64))])):u("",!0)])):u("",!0)]),a("div",qs,[e(v).serviceCategory.visibility&&e(G)?(t(),i("div",Gs,[Js,a("span",null,l(e(_).find(j=>j.id===e(G)).name),1)])):u("",!0),e(v).serviceDuration.visibility?(t(),i("div",Ys,[Qs,a("span",null,l(e(ia)(o.duration)),1)])):u("",!0),e(v).serviceCapacity.visibility&&!e(k).isLite?(t(),i("div",Xs,[Zs,a("span",null,l(e(aa)(e(J),o.id)),1)])):u("",!0),e(Ae)(e(J),o.id).length&&e(v).serviceLocation.visibility?(t(),i("div",Ks,[el,a("span",null,l(pt(e(J),o.id)),1)])):u("",!0)])],4),a("div",{class:V(["am-fcil__item-footer",[{"am-mobile":e(Ee)<481},{"am-micro":e(Ee)<320}]])},[e(v).cardEmployeeBtn.visibility&&!e(k).isLite?(t(),ge(Re,{key:0,class:V({"am-w100":e(Ee)<320}),size:"small",type:e(v).cardEmployeeBtn.buttonType,onClick:j=>yt(o.id)},{default:R(()=>[de(l(e(f).view_employees),1)]),_:2},1032,["class","type","onClick"])):u("",!0),Y(Re,{class:V([{"am-w100":!e(v).cardEmployeeBtn.visibility},{"am-micro am-w100":e(Ee)<320}]),size:"small",type:e(v).cardContinueBtn.buttonType,onClick:j=>De(o.id)},{default:R(()=>[de(l(e(f).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2)}),128)):u("",!0),Y(dt,{modelValue:e(B),"onUpdate:modelValue":h[9]||(h[9]=o=>ue(B)?B.value=o:B=o),"append-to-body":!0,"modal-class":"am-fcil-employee","destroy-on-close":!0,"lock-scroll":!0,"custom-styles":e(Lt),width:"648px",onClose:gt},{title:R(()=>[a("div",tl,l(e(f).employee_info),1)]),default:R(()=>[a("div",null,[Y($t,null,{default:R(()=>[(t(!0),i(K,null,ye(e(S),(o,me)=>(t(),ge(St,{key:me,side:""},{heading:R(()=>[a("div",al,[a("div",il,[Y(rt,{"item-class":"am-fcil-employee__img","item-data":o,"trim-string":2},null,8,["item-data"]),a("div",sl,[de(l(`${o.firstName} ${o.lastName}`)+" ",1),o.badge?(t(),i("span",{key:0,style:re({background:o.badge.color}),class:"am-fcil-employee__badge"},l(o.badge.content),5)):u("",!0)])]),e(I)==="service"&&ht(o)!==0?(t(),i("div",ll,[a("div",ol,l(ht(o)),1)])):u("",!0)])]),default:R(()=>[e(Me)(o.description)?(t(),i("div",{key:0,class:V(["am-fcil-employee__text",{"ql-description":o.description.includes("<!-- Content -->")}]),innerHTML:o.description},null,10,nl)):u("",!0)]),_:2},1024))),128))]),_:1})])]),footer:R(()=>[e(v).dialogEmployeeBtn.visibility?(t(),ge(Re,{key:0,type:e(v).dialogEmployeeBtn.buttonType,category:"primary",onClick:h[8]||(h[8]=o=>Xe())},{default:R(()=>[de(l(e(I)==="service"?e(f).book_service:e(f).book_package),1)]),_:1},8,["type"])):u("",!0)]),_:1},8,["modelValue","custom-styles"]),Y(dt,{modelValue:e(m),"onUpdate:modelValue":h[10]||(h[10]=o=>ue(m)?m.value=o:m=o),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(s),onClosed:d},{default:R(()=>[Y(Wt,{"show-cart":e(g)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:2},[e(_).length!==1&&e(q)!==1&&e(v).sidebar.visibility&&e(oe)?{name:"side",fn:R(()=>[Y(pi,{"menu-items":e(Q),"init-selection":e(G),identifier:"id","name-identifier":"name","footer-string":e(f).get_in_touch,"company-email":e(te).company.email,onClick:Pe},null,8,["menu-items","init-selection","footer-string","company-email"])])}:void 0]),1032,["wrapper-class","form-class","content-class","style"]))}});const hl={class:"am-fcis__header-text"},bl={class:"am-fcis__header-name"},kl={key:0,class:"am-fcis__badge am-service"},Cl=a("span",{class:"am-icon-service"},null,-1),$l={class:"am-fcis__header-action"},Sl={key:0,class:"am-fcis__header-price"},wl={key:1,class:"am-fcis__header-tax"},xl={class:"am-fcis__header-btn"},Pl={key:0,class:"am-fcis__header-bottom"},Il={class:"am-fcis__mini-info"},El={key:0,class:"am-fcis__mini-info__inner"},Dl=a("span",{class:"am-icon-folder"},null,-1),Ll={key:1,class:"am-fcis__mini-info__inner"},Tl=a("span",{class:"am-icon-clock"},null,-1),Bl={key:2,class:"am-fcis__mini-info__inner"},Fl=a("span",{class:"am-icon-user"},null,-1),zl={key:3,class:"am-fcis__mini-info__inner"},Al=a("span",{class:"am-icon-locations"},null,-1),Rl={key:0,class:"am-fcis__gallery"},Ol={key:0,class:"am-fcis__gallery-thumb__wrapper"},Ml={class:"am-gd__display-wrapper"},Vl={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},Nl=["src","alt"],Ul={class:"am-gd__selection"},Wl={class:"am-gd__thumb-wrapper"},jl=["onClick"],Hl={key:1,class:"am-fcis__info"},ql={class:"am-fcis__info-tab__wrapper"},Gl={class:"am-fcis__info-content__wrapper"},Jl={key:0,class:"am-fcis__info-content"},Yl=["innerHTML"],Ql={key:1,class:"am-fcis__info-content"},Xl={class:"am-fcis__info-employee__hero"},Zl={class:"am-fcis__info-employee__heading"},Kl={class:"am-fcis__info-employee__name"},eo={key:0,class:"am-fcis__info-employee__price"},to=["innerHTML"],ao={key:2,class:"am-fcis__include-wrapper"},io={class:"am-fcis__include-heading"},so={class:"am-fcis__include-heading__text"},lo=["onClick"],oo={class:"am-fcis__include-hero"},no={key:0,class:"am-fcis__include-cost"},co={key:0,class:"am-fcis__include-discount"},ro={class:"am-fcis__include-price"},uo={key:1,class:"am-fcis__include-price"},mo={class:"am-fcis__include-info"},po={key:0,class:"am-fcis__include-info__inner"},_o=a("span",{class:"am-icon-folder"},null,-1),fo={key:1,class:"am-fcis__include-info__inner"},vo=a("span",{class:"am-icon-clock"},null,-1),go={key:0},yo={key:1},ho={key:2},bo={key:2,class:"am-fcis__include-info__inner"},ko=a("span",{class:"am-icon-user"},null,-1),Co=a("span",null,"1/1",-1),$o=[ko,Co],So={key:3,class:"am-fcis__include-info__inner"},wo=a("span",{class:"am-icon-locations"},null,-1),xo={key:4,class:"am-fcis__include-info__inner am-fcis__include-info__services"},Po={key:1,ref:"ameliaContainer",class:"am-empty"},Io=["src"],Eo={class:"am-empty__heading"},Do={class:"am-empty__subheading"},Lo={class:"am-empty__text"},To={key:0},Bo={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Fo={key:1},zo={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Ao={name:"CategoryService"},Ro=Object.assign(Ao,{setup(p){let k=A("licence"),{previousPage:r}=A("changingPageFunctions",{previousPage:()=>{}}),w=y(()=>U.getters["entities/getReady"]);const $=A("baseUrls");let T=P(),m=A("containerWidth");const s=A("settings");let d=A("amFonts");const g=A("labels"),x=A("localLanguage");let C=y(()=>s.general.usedLanguages.includes(x.value)),E=y(()=>{let H=st(tt({},g));if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoryService.translations){let B=s.customizedData.cbf.categoryService.translations;Object.keys(B).forEach(I=>{B[I][x.value]&&C.value?H[I]=B[I][x.value]:B[I].default&&(H[I]=B[I].default)})}return H}),v=P(0),U=it(),te=A("amEntities"),L=y(()=>Je(U)&&Ue(U)>0),F=y(()=>Ue(U)),c=A("customizedDataForm"),q=y(()=>c.value.categoryService.options),oe=y(()=>"pageScroll"in q.value?q.value.pageScroll.visibility:!0),J=A("itemType"),pe=A("categorySelected"),$e=y(()=>te.value.categories.find(H=>H.id===pe.value)),N=y(()=>{let H=te.value.services.find(B=>B.id===U.getters["booking/getServiceId"]);return H||{}});function be(H,B){return Ae(H,B).length===1?Ae(H,B)[0].address?Ae(H,B)[0].address:Ae(H,B)[0].name:E.value.multiple_locations}let ne=P("description"),f=y(()=>{let H=[];return Object.keys(te.value.entitiesRelations).forEach(I=>{te.value.entitiesRelations[I][N.value.id]&&te.value.employees.find(S=>S.id===parseInt(I))&&H.push(te.value.employees.find(S=>S.id===parseInt(I)))}),H});function ve(H){let B=H.serviceList.find(I=>I.id===N.value.id).price;return B-N.value.price!==0?`${B-N.value.price>0?N.value.price>0?"+":"":"-"} ${Ke(B-N.value.price)}`:""}Fe(()=>{q.value.serviceDescription.visibility||(ne.value="employees"),Me(N.value.description)||(ne.value="employees")});let Se=y(()=>{let H=N.value.gallery.length?JSON.parse(JSON.stringify(N.value.gallery)):[];return N.value.gallery.length===1?[]:(H.shift(),H.length>2&&H.splice(2,H.length-2),H)}),_e=y(()=>{let H=[];return te.value.packages.forEach(B=>{B.bookable.filter(I=>I.service.id===N.value.id).length&&!H.filter(I=>I.id===B.id).length&&B.available&&B.status==="visible"&&H.push(B)}),H}),fe=P(!1),ee=y(()=>{let H=[..._e.value];return fe.value?H:H.slice(0,2)}),Le=y(()=>U.getters["entities/filteredLocations"](U.getters["booking/getSelection"]));function Te(){J.value="",xe(()=>{r()})}let _=P(!1);function Q(){Rt(U),_.value=!0,M.value=!0}function G(){M.value=!1,U.getters["entities/getPreselected"].service.length>1&&Te()}let M=P(!1),Be=P("760px");se("bookingDialogWidth",Be);function ie(){let H=U.getters["entities/getPreselected"];f.value.length===1&&(U.commit("booking/setEmployeeId",parseInt(f.value[0].id)),H.employee=[parseInt(f.value[0].id)],U.commit("entities/setPreselected",H)),_.value=!1,M.value=!1,Ga(U),ea(U,!1),_t(U);let B=Ae(te.value,N.value.id);B.length===1&&(U.commit("booking/setLocationId",parseInt(B[0].id)),H.location=[parseInt(B[0].id)],U.commit("entities/setPreselected",H)),U.commit("booking/setBookableType","appointment"),M.value=!0}A("restoreFormData").value&&ie();function ze(H){U.commit("booking/setPackageId",H.id),U.commit("booking/setBookableType","package"),U.commit("booking/setMultipleAppointments",It(0,H)),U.commit("booking/setMultipleAppointmentsIndex",0),f.value.length===1&&U.commit("booking/setEmployeeId",parseInt(f.value[0].id)),Ae(te.value,N.value.id).length===1&&U.commit("booking/setLocationId",parseInt(Ae(te.value,N.value.id)[0].id)),xe(()=>{M.value=!0})}const Z=y(()=>U.getters["entities/getPreselected"]);let W=y(()=>te.value.services.length!==1&&Z.value.service.length!==1),z=P("");se("stepName",z);function ce(){let H=U.getters["entities/getBookableFromBookableEntities"](U.getters["booking/getSelection"]),B=H.settings?JSON.parse(H.settings):s;"general"in B&&"redirectUrlAfterAppointment"in B.general&&B.general.redirectUrlAfterAppointment?window.location.href=B.general.redirectUrlAfterAppointment:s.general.redirectUrlAfterAppointment?window.location.href=s.general.redirectUrlAfterAppointment:window.location.reload()}function Ee(){if(z.value&&z.value==="CongratulationsStep")ce();else{if(z.value&&z.value==="DateTimeStep"){let H=Ja(U);H&&console.log(H)}U.commit("booking/setEmployeeId",null),U.commit("booking/setLocationId",null),U.commit("entities/setPreselected",U.getters["entities/getOriginalPreselected"])}Be.value="760px"}let Ve=P(!1);function Pe(H,B){let I="";return H>1?(B==="day"&&(I=E.value.expires_days),B==="week"&&(I=E.value.expires_weeks),B==="month"&&(I=E.value.expires_months)):(B==="day"&&(I=E.value.expires_day),B==="week"&&(I=E.value.expires_week),B==="month"&&(I=E.value.expires_month)),I}let et=y(()=>Object.keys(N.value).length===0||f.value.length===0),De=A("amColors"),lt=y(()=>({"--am-c-fcis-success-op20":ae(De.value.colorSuccess,.2),"--am-c-fcis-primary-op20":ae(De.value.colorPrimary,.2),"--am-c-fcis-text-op80":ae(De.value.colorMainText,.8),"--am-c-fcis-text-op03":ae(De.value.colorMainText,.03),"--am-c-fcis-btn-op50":ae(De.value.colorBtnSec,.5)})),mt=y(()=>({"--am-c-fcis-bgr":De.value.colorMainBgr,"--am-c-fcis-text":De.value.colorMainText,"--am-c-fcis-success":De.value.colorSuccess,"--am-c-fcis-primary":De.value.colorPrimary,"--am-c-scroll-op30":ae(De.value.colorPrimary,.3),"--am-c-scroll-op10":ae(De.value.colorPrimary,.1),"--am-font-family":d.fontFamily}));return(H,B)=>e(w)?(t(),i(K,{key:0},[e(et)?u("",!0):(t(),ge(Ut,{key:0,ref_key:"contentRef",ref:T,"wrapper-class":"am-fcis","form-class":"am-fcis__form","heading-class":"am-fcis__header","content-class":`am-fcis__content ${e(oe)?"":"no-scroll"}`,style:re(e(lt))},{header:R(()=>[Y(Nt,{"btn-string":e(E).back_btn,"btn-type":e(q).backBtn.buttonType,"back-btn-visibility":e(W),"cart-btn-visibility":e(L),"cart-items-number":e(F),onGoBack:Te,onGoToCart:Q},null,8,["btn-string","btn-type","back-btn-visibility","cart-btn-visibility","cart-items-number"])]),heading:R(()=>{var I,S;return[a("div",{class:V([[{"am-tablet":e(m)<=678},{"am-mobile":e(m)<450}],"am-fcis__header-top"])},[a("div",hl,[a("span",bl,l(e(N).name),1),e(q).serviceBadge.visibility?(t(),i("div",kl,[Cl,a("span",null,l(e(E).heading_service),1)])):u("",!0)]),a("div",$l,[e(q).servicePrice.visibility?(t(),i("span",Sl,l(e(ut)(e(te),e(N).id).min||e(ut)(e(te),e(N).id).max?e(ut)(e(te),e(N).id).price:e(E).free),1)):u("",!0),((S=(I=e(q).tax)==null?void 0:I.visibility)!=null?S:!0)&&e(vt)(e(U),e(N).id,"service")?(t(),i("span",wl,[e(s).payments.taxes.excluded?(t(),i(K,{key:0},[de(l(`+${e(E).total_tax_colon}`),1)],64)):(t(),i(K,{key:1},[de(l(e(E).incl_tax),1)],64))])):u("",!0),a("span",xl,[Y(Re,{type:e(q).bookingBtn.buttonType,onClick:ie},{default:R(()=>[de(l(e(E).book_now),1)]),_:1},8,["type"])])])],2),e(q).serviceCategory.visibility||e(q).serviceDuration.visibility||e(q).serviceCapacity.visibility||e(q).serviceLocation.visibility?(t(),i("div",Pl,[a("div",Il,[e(q).serviceCategory.visibility&&e($e)?(t(),i("div",El,[Dl,a("span",null,l(e($e).name),1)])):u("",!0),e(q).serviceDuration.visibility?(t(),i("div",Ll,[Tl,a("span",null,l(e(ia)(e(N).duration)),1)])):u("",!0),e(q).serviceCapacity.visibility&&!e(k).isLite?(t(),i("div",Bl,[Fl,a("span",null,l(e(aa)(e(te),e(N).id)),1)])):u("",!0),e(Ae)(e(te),e(N).id).length&&e(q).serviceLocation.visibility&&!e(k).isLite&&!e(k).isStarter?(t(),i("div",zl,[Al,a("span",null,l(be(e(te),e(N).id)),1)])):u("",!0)])])):u("",!0)]}),content:R(()=>[e(N).gallery.length?(t(),i("div",Rl,[a("div",{class:V(["am-fcis__gallery-hero",[{w100:e(N).gallery.length===1},{"am-mobile w100":e(m)<678}]]),style:re({backgroundImage:`url(${e(N).gallery[0].pictureFullPath})`})},null,6),e(Se).length&&e(m)>677?(t(),i("div",Ol,[(t(!0),i(K,null,ye(e(Se),(I,S)=>(t(),i("div",{key:S,class:V(["am-fcis__gallery-thumb",{"am-one-thumb":e(Se).length===1}]),style:re({backgroundImage:`url(${I.pictureFullPath})`})},null,6))),128))])):u("",!0),Y(Re,{"custom-class":`am-fcis__gallery-btn${e(m)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:B[0]||(B[0]=()=>ue(Ve)?Ve.value=!0:Ve=!0)},{default:R(()=>[de(l(e(E).view_all_photos),1)]),_:1},8,["custom-class"])])):u("",!0),Y(dt,{modelValue:e(Ve),"onUpdate:modelValue":B[4]||(B[4]=I=>ue(Ve)?Ve.value=I:Ve=I),"modal-class":"amelia-v2-booking amelia-v2-sgd","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:R(()=>[a("div",{class:"am-gd",style:re(e(mt))},[a("div",Ml,[a("div",Vl,[a("span",{class:"am-icon-arrow-left",onClick:B[1]||(B[1]=()=>ue(v)?v.value=e(v)<=0?e(N).gallery.length-1:e(v)-1:v=e(v)<=0?e(N).gallery.length-1:e(v)-1)}),a("span",{class:"am-icon-arrow-right",onClick:B[2]||(B[2]=()=>ue(v)?v.value=e(N).gallery.length-1===e(v)?0:e(v)+1:v=e(N).gallery.length-1===e(v)?0:e(v)+1)})]),(t(!0),i(K,null,ye(e(N).gallery,(I,S)=>(t(),i("div",{key:S,class:"am-gd__display",style:re({display:S===e(v)?"flex":"none"}),onClick:B[3]||(B[3]=()=>ue(v)?v.value=e(N).gallery.length-1===e(v)?0:e(v)+1:v=e(N).gallery.length-1===e(v)?0:e(v)+1)},[a("img",{src:I.pictureFullPath,alt:S},null,8,Nl)],4))),128))]),a("div",Ul,l(`${e(v)+1}/${e(N).gallery.length}`),1),a("div",Wl,[(t(!0),i(K,null,ye(e(N).gallery,(I,S)=>(t(),i("div",{key:S,class:V(["am-gd__thumb",{"am-active":S===e(v)}]),style:re({backgroundImage:`url(${I.pictureFullPath})`}),onClick:()=>ue(v)?v.value=S:v=S},null,14,jl))),128))])],4)]),_:1},8,["modelValue"]),e(q).serviceDescription.visibility&&e(Me)(e(N).description)||e(q).serviceEmployees.visibility?(t(),i("div",Hl,[a("div",ql,[e(Me)(e(N).description)&&e(q).serviceDescription.visibility?(t(),i("div",{key:0,class:V(["am-fcis__info-tab",{"am-active":e(ne)==="description"}]),onClick:B[5]||(B[5]=()=>ue(ne)?ne.value="description":ne="description")},l(e(E).about_service),3)):u("",!0),e(q).serviceEmployees.visibility&&!e(k).isLite?(t(),i("div",{key:1,class:V([{"am-active":e(ne)==="employees"},"am-fcis__info-tab"]),onClick:B[6]||(B[6]=()=>ue(ne)?ne.value="employees":ne="employees")},l(e(E).tab_employees),3)):u("",!0)]),a("div",Gl,[e(Me)(e(N).description)&&e(q).serviceDescription.visibility?wt((t(),i("div",Jl,[a("div",{class:V(["am-fcis__info-service__desc",{"ql-description":e(N).description.includes("<!-- Content -->")}]),innerHTML:e(N).description},null,10,Yl)],512)),[[xt,e(ne)==="description"]]):u("",!0),e(q).serviceEmployees.visibility?wt((t(),i("div",Ql,[Y($t,null,{default:R(()=>[(t(!0),i(K,null,ye(e(f),I=>(t(),ge(St,{key:I.id,side:""},{heading:R(()=>[a("div",{class:V([{"am-mobile":e(m)<451},"am-fcis__info-employee"])},[a("div",Xl,[Y(rt,{"item-class":"am-fcis__info-employee__img","item-data":I,"trim-string":3},null,8,["item-data"]),a("div",Zl,[a("div",Kl,[de(l(I.firstName)+" "+l(I.lastName)+" ",1),I.badge?(t(),i("span",{key:0,style:re({background:I.badge.color}),class:"am-fcis__info-employee__badge"},l(I.badge.content),5)):u("",!0)]),ve(I)&&e(q).serviceEmployeePrice.visibility?(t(),i("div",eo,l(ve(I)),1)):u("",!0)])])],2)]),default:R(()=>[e(Me)(I.description)?(t(),i("div",{key:0,class:V(["am-fcis__info-employee__description",{"ql-description":I.description.includes("<!-- Content -->")}]),innerHTML:I.description},null,10,to)):u("",!0)]),_:2},1024))),128))]),_:1})],512)),[[xt,e(ne)==="employees"]]):u("",!0)])])):u("",!0),e(_e).length&&e(Z).show!=="services"&&e(q).servicePackages.visibility&&!e(Ue)(e(U))?(t(),i("div",ao,[a("div",io,[a("span",so,l(e(E).service_available_in_package),1),e(_e).length>2?(t(),i("span",{key:0,class:"am-fcis__include-heading__btn",onClick:B[7]||(B[7]=()=>ue(fe)?fe.value=!e(fe):fe=!e(fe))},[e(fe)?(t(),i(K,{key:1},[de(l(e(E).less_packages),1)],64)):(t(),i(K,{key:0},[de(l(e(E).more_packages),1)],64))])):u("",!0)]),(t(!0),i(K,null,ye(e(ee),I=>{var S,Qe;return t(),i("div",{key:I.id,class:"am-fcis__include",onClick:Oe=>ze(I)},[a("div",oo,[e(m)>450?(t(),ge(rt,{key:0,"item-class":"am-fcis__include-img","item-data":I,"trim-string":3},null,8,["item-data"])):u("",!0),a("div",{class:V([{"am-mobile":e(m)<451},"am-fcis__include-text"])},[a("div",{class:V(["am-fcis__include-header",{"am-mobile":e(m)<600}])},[a("div",{class:V(["am-fcis__include-name",{"am-mobile":e(m)<600}])},l(I.name),3),e(q).packagePrice.visibility?(t(),i("div",no,[I.discount?(t(),i("span",co,l(`${e(E).save} ${I.discount}%`),1)):u("",!0),a("span",ro,l(I.price?e(Ke)(e(Vt)(I)):e(E).free),1),((Qe=(S=e(q).tax)==null?void 0:S.visibility)!=null?Qe:!0)&&e(vt)(e(U),I.id,"package")?(t(),i("span",uo,[e(s).payments.taxes.excluded?(t(),i(K,{key:0},[de(l(`+${e(E).total_tax_colon}`),1)],64)):(t(),i(K,{key:1},[de(l(e(E).incl_tax),1)],64))])):u("",!0)])):u("",!0)],2),a("div",mo,[e(q).packageCategory.visibility&&e($e)?(t(),i("div",po,[_o,a("span",null,l(e($e).name),1)])):u("",!0),e(q).packageDuration.visibility?(t(),i("div",fo,[vo,I.endDate?(t(),i("span",go,l(`${e(E).expires_at} ${I.endDate.split(" ")[0]}`),1)):I.durationCount?(t(),i("span",yo,l(`${e(E).expires_after} ${I.durationCount} ${Pe(I.durationCount,I.durationType)}`),1)):(t(),i("span",ho,l(e(E).without_expiration),1))])):u("",!0),e(q).packageCapacity.visibility?(t(),i("div",bo,$o)):u("",!0),e(q).packageLocation.visibility&&e(Le).length?(t(),i("div",So,[wo,a("span",null,l(e(Le).length===1?e(Le)[0].address?e(Le)[0].address:e(Le)[0].name:e(E).multiple_locations),1)])):u("",!0),e(q).packageServices.visibility?(t(),i("div",xo,[a("span",null,l(`${e(E).in_package}:`),1),(t(!0),i(K,null,ye(I.bookable,Oe=>(t(),i("span",{key:Oe.id},l(Oe.service.name),1))),128))])):u("",!0)])],2)])],8,lo)}),128))])):u("",!0),Y(dt,{modelValue:e(M),"onUpdate:modelValue":B[9]||(B[9]=I=>ue(M)?M.value=I:M=I),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(Be),onClosed:Ee},{default:R(()=>[Y(Wt,{"show-cart":e(_),onAddToCart:G,onEmptiedCart:B[8]||(B[8]=I=>ue(M)?M.value=!1:M=!1)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:1},8,["content-class","style"])),e(et)?(t(),i("div",Po,[a("img",{src:e($).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Io),a("div",Eo,l(e(E).oops),1),a("div",Do,l(e(Z).show!=="packages"?e(E).no_services_employees:e(E).no_package_services),1),a("div",Lo,[e(Z).show!=="packages"?(t(),i("span",To,l(e(E).add_services_employees)+"\xA0 ",1)):u("",!0),a("a",Bo,l(e(E).add_services_url)+"\xA0 ",1),e(Z).show!=="packages"?(t(),i("span",Fo,l(e(E).and)+"\xA0 ",1)):u("",!0),e(Z).show!=="packages"?(t(),i("a",zo,l(e(E).add_employees_url),1)):u("",!0)])],512)):u("",!0)],64)):u("",!0)}});const Oo={class:"am-fcip__header-text"},Mo={class:"am-fcip__header-name"},Vo={key:0,class:"am-fcip__badge am-package"},No=a("span",{class:"am-icon-shipment"},null,-1),Uo={class:"am-fcip__header-action"},Wo={key:0,class:"am-fcip__header-discount"},jo={key:1,class:"am-fcip__header-price"},Ho={key:2,class:"am-fcip__header-tax"},qo={class:"am-fcip__header-btn"},Go={key:0,class:"am-fcip__header-bottom"},Jo={class:"am-fcip__mini-info"},Yo={key:0,class:"am-fcip__mini-info__inner"},Qo=a("span",{class:"am-icon-folder"},null,-1),Xo={key:1,class:"am-fcip__mini-info__inner"},Zo=a("span",{class:"am-icon-clock"},null,-1),Ko={key:0},en={key:1},tn={key:2},an={key:2,class:"am-fcip__mini-info__inner"},sn=a("span",{class:"am-icon-user"},null,-1),ln=a("span",null,"1/1",-1),on=[sn,ln],nn={key:3,class:"am-fcip__mini-info__inner"},cn=a("span",{class:"am-icon-locations"},null,-1),rn={key:0,class:"am-fcip__gallery"},un={key:0,class:"am-fcip__gallery-thumb__wrapper"},dn=a("span",{class:"am-icon-gallery"},null,-1),mn={class:"am-gd__display-wrapper"},pn={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},_n=["src","alt"],fn={class:"am-gd__selection"},vn={class:"am-gd__thumb-wrapper"},gn=["onClick"],yn={key:1,class:"am-fcip__info"},hn={class:"am-fcip__info-tab__wrapper"},bn={class:"am-fcip__info-content__wrapper"},kn={key:0,class:"am-fcip__info-content"},Cn=["innerHTML"],$n={key:1,class:"am-fcip__info-content"},Sn={class:"am-fcip__info-employee"},wn={class:"am-fcip__info-employee__hero"},xn={class:"am-fcip__info-employee__name"},Pn=["innerHTML"],In={key:2,class:"am-fcip__include-wrapper"},En={class:"am-fcip__include-heading"},Dn={class:"am-fcip__include-heading__text"},Ln={class:"am-fcip__include-service"},Tn={class:"am-fcip__include-service__info"},Bn={key:0},Fn=["innerHTML"],zn={class:"am-fcip__include-footer"},An={class:"am-fcip__include-footer__text"},Rn={key:1,ref:"ameliaContainer",class:"am-empty"},On=["src"],Mn={class:"am-empty__heading"},Vn={class:"am-empty__subheading"},Nn={class:"am-empty__text"},Un={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Wn={name:"CategoryPackage"},jn=Object.assign(Wn,{setup(p){let{previousPage:k}=A("changingPageFunctions",{previousPage:()=>{}}),r=P(),w=A("containerWidth");const $=A("settings"),T=A("baseUrls");let m=it();const s=A("shortcodeData"),d=y(()=>m.getters["entities/getPreselected"]);let g=A("amEntities"),x=A("customizedDataForm"),C=y(()=>x.value.categoryPackage.options),E=y(()=>"pageScroll"in C.value?C.value.pageScroll.visibility:!0),v=A("itemType"),U=A("categorySelected"),te=y(()=>g.value.categories.find(Z=>Z.id===U.value)),L=y(()=>g.value.packages.find(Z=>Z.id===m.getters["booking/getPackageId"])),F=P(0),c=P("description"),q=y(()=>sa(g.value,L.value,s.value)),oe=y(()=>nt(g.value,L.value,s.value)),J=P(d.value.employee.length>0?g.value.unfilteredEmployees.filter(Z=>d.value.employee.map(W=>parseInt(W)).includes(Z.id)):g.value.unfilteredEmployees);function pe(Z){let W=[];return Z.providers.length?Z.providers.forEach(z=>{J.value.find(ce=>ce.id===parseInt(z.id))&&W.push(J.value.find(ce=>ce.id===parseInt(z.id)))}):W=J.value.filter(z=>z.serviceList.find(ce=>ce.id===Z.service.id)),W}Fe(()=>{C.value.packageDescription.visibility||(c.value="employees"),Me(L.value.description)||(c.value="employees")});let $e=P(!1);Ot(()=>{$e.value=m.getters["entities/getEmployees"].length===0||q.value.length===0});let N=P(!1),be=y(()=>{let Z=L.value.gallery.length?JSON.parse(JSON.stringify(L.value.gallery)):[];return L.value.gallery.length===1?[]:(Z.shift(),Z.length>2&&Z.splice(2,Z.length-2),Z)});function ne(){v.value="",xe(()=>{k()})}let f=P(!1),ve=P("760px");se("bookingDialogWidth",ve);function Se(){m.commit("booking/setPackageId",L.value.id),m.commit("booking/setMultipleAppointments",It(0,L.value)),m.commit("booking/setMultipleAppointmentsIndex",0),m.commit("booking/setBookableType","package"),xe(()=>{f.value=!0})}A("restoreFormData").value&&Se();let fe=P("");se("stepName",fe);function ee(){let Z=m.getters["entities/getBookableFromBookableEntities"](m.getters["booking/getSelection"]),W=Z.settings?JSON.parse(Z.settings):$;"general"in W&&"redirectUrlAfterAppointment"in W.general&&W.general.redirectUrlAfterAppointment?window.location.href=W.general.redirectUrlAfterAppointment:$.general.redirectUrlAfterAppointment?window.location.href=$.general.redirectUrlAfterAppointment:window.location.reload()}function Le(){fe.value&&fe.value==="CongratulationsStep"?ee():m.commit("entities/setPreselected",m.getters["entities/getOriginalPreselected"]),ve.value="760px"}let Te=A("amFonts");const _=A("labels"),Q=A("localLanguage");let G=y(()=>$.general.usedLanguages.includes(Q.value)),M=y(()=>{let Z=st(tt({},_));if($.customizedData&&$.customizedData.cbf&&$.customizedData.cbf.categoryPackage.translations){let W=$.customizedData.cbf.categoryPackage.translations;Object.keys(W).forEach(z=>{W[z][Q.value]&&G.value?Z[z]=W[z][Q.value]:W[z].default&&(Z[z]=W[z].default)})}return Z});function Be(Z,W){let z="";return Z>1?(W==="day"&&(z=M.value.expires_days),W==="week"&&(z=M.value.expires_weeks),W==="month"&&(z=M.value.expires_months)):(W==="day"&&(z=M.value.expires_day),W==="week"&&(z=M.value.expires_week),W==="month"&&(z=M.value.expires_month)),z}let ie=A("amColors"),We=y(()=>({"--am-c-fcip-success-op20":ae(ie.value.colorSuccess,.2),"--am-c-fcip-primary-op20":ae(ie.value.colorPrimary,.2),"--am-c-fcip-text-op80":ae(ie.value.colorMainText,.8),"--am-c-fcip-text-op60":ae(ie.value.colorMainText,.6),"--am-c-fcip-text-op03":ae(ie.value.colorMainText,.03),"--am-c-fcip-btn-op50":ae(ie.value.colorBtnSec,.5)})),ze=y(()=>({"--am-c-fcip-bgr":ie.value.colorMainBgr,"--am-c-fcip-text":ie.value.colorMainText,"--am-c-fcip-success":ie.value.colorSuccess,"--am-c-fcip-primary":ie.value.colorPrimary,"--am-c-scroll-op30":ae(ie.value.colorPrimary,.3),"--am-c-scroll-op10":ae(ie.value.colorPrimary,.1),"--am-font-family":Te.fontFamily}));return(Z,W)=>(t(),i(K,null,[e($e)?u("",!0):(t(),ge(Ut,{key:0,ref_key:"contentRef",ref:r,"wrapper-class":"am-fcip","form-class":"am-fcip__form","heading-class":"am-fcip__header","content-class":`am-fcip__content ${e(E)?"":"no-scroll"}`,style:re(e(We))},Mt({heading:R(()=>{var z,ce;return[a("div",{class:V([[{"am-tablet":e(w)<=678},{"am-mobile":e(w)<450}],"am-fcip__header-top"])},[a("div",Oo,[a("span",Mo,[a("span",null,l(e(L).name),1)]),e(C).packageBadge.visibility?(t(),i("div",Vo,[No,a("span",null,l(e(M).package),1)])):u("",!0)]),a("div",Uo,[e(L).discount&&e(C).packagePrice.visibility?(t(),i("span",Wo,l(`${e(M).save} ${e(L).discount}%`),1)):u("",!0),e(C).packagePrice.visibility?(t(),i("span",jo,l(e(L).price?e(Ke)(e(Vt)(e(L))):e(M).free),1)):u("",!0),e(L).price&&((ce=(z=e(C).tax)==null?void 0:z.visibility)!=null?ce:!0)&&e(vt)(e(m),e(L).id,"package")?(t(),i("span",Ho,[e($).payments.taxes.excluded?(t(),i(K,{key:0},[de(l(`+${e(M).total_tax_colon}`),1)],64)):(t(),i(K,{key:1},[de(l(e(M).incl_tax),1)],64))])):u("",!0),a("span",qo,[Y(Re,{type:e(C).bookingBtn.buttonType,onClick:Se},{default:R(()=>[de(l(e(M).book_now),1)]),_:1},8,["type"])])])],2),e(C).packageCategory.visibility&&e(d).package.length!==1||e(C).packageDuration.visibility||e(C).packageCapacity.visibility||e(C).packageLocation.visibility&&e(oe).length?(t(),i("div",Go,[a("div",Jo,[e(d).package.length!==1&&e(C).packageCategory.visibility&&e(te)?(t(),i("div",Yo,[Qo,a("span",null,l(e(te).name),1)])):u("",!0),e(C).packageDuration.visibility?(t(),i("div",Xo,[Zo,e(L).endDate?(t(),i("span",Ko,l(`${e(M).expires_at} ${e(L).endDate.split(" ")[0]}`),1)):e(L).durationCount?(t(),i("span",en,l(`${e(M).expires_after} ${e(L).durationCount} ${Be(e(L).durationCount,e(L).durationType)}`),1)):(t(),i("span",tn,l(e(M).without_expiration),1))])):u("",!0),e(C).packageCapacity.visibility?(t(),i("div",an,on)):u("",!0),e(oe).length&&e(C).packageLocation.visibility?(t(),i("div",nn,[cn,a("span",null,l(e(oe).length===1?e(oe)[0].address?e(oe)[0].address:e(oe)[0].name:e(M).multiple_locations),1)])):u("",!0)])])):u("",!0)]}),content:R(()=>[e(L).gallery.length?(t(),i("div",rn,[a("div",{class:V(["am-fcip__gallery-hero",[{w100:e(L).gallery.length===1},{"am-mobile w100":e(w)<678}]]),style:re({backgroundImage:`url(${e(L).gallery[0].pictureFullPath})`})},null,6),e(be).length&&e(w)>677?(t(),i("div",un,[(t(!0),i(K,null,ye(e(be),(z,ce)=>(t(),i("div",{key:ce,class:V(["am-fcip__gallery-thumb",{"am-one-thumb":e(be).length===1}]),style:re({backgroundImage:`url(${z.pictureFullPath})`})},null,6))),128))])):u("",!0),Y(Re,{"custom-class":`am-fcip__gallery-btn${e(w)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:W[0]||(W[0]=()=>ue(N)?N.value=!0:N=!0)},{default:R(()=>[dn,a("span",null,l(e(M).view_all_photos),1)]),_:1},8,["custom-class"])])):u("",!0),Y(dt,{modelValue:e(N),"onUpdate:modelValue":W[4]||(W[4]=z=>ue(N)?N.value=z:N=z),"modal-class":"amelia-v2-booking amelia-v2-gdp","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:R(()=>[a("div",{class:"am-gd",style:re(e(ze))},[a("div",mn,[a("div",pn,[a("span",{class:"am-icon-arrow-left",onClick:W[1]||(W[1]=()=>ue(F)?F.value=e(F)<=0?e(L).gallery.length-1:e(F)-1:F=e(F)<=0?e(L).gallery.length-1:e(F)-1)}),a("span",{class:"am-icon-arrow-right",onClick:W[2]||(W[2]=()=>ue(F)?F.value=e(L).gallery.length-1===e(F)?0:e(F)+1:F=e(L).gallery.length-1===e(F)?0:e(F)+1)})]),(t(!0),i(K,null,ye(e(L).gallery,(z,ce)=>(t(),i("div",{key:ce,class:"am-gd__display",style:re({display:ce===e(F)?"flex":"none"}),onClick:W[3]||(W[3]=()=>ue(F)?F.value=e(L).gallery.length-1===e(F)?0:e(F)+1:F=e(L).gallery.length-1===e(F)?0:e(F)+1)},[a("img",{src:z.pictureFullPath,alt:ce},null,8,_n)],4))),128))]),a("div",fn,l(`${e(F)+1}/${e(L).gallery.length}`),1),a("div",vn,[(t(!0),i(K,null,ye(e(L).gallery,(z,ce)=>(t(),i("div",{key:ce,class:V(["am-gd__thumb",{"am-active":ce===e(F)}]),style:re({backgroundImage:`url(${z.pictureFullPath})`}),onClick:()=>ue(F)?F.value=ce:F=ce},null,14,gn))),128))])],4)]),_:1},8,["modelValue"]),e(C).packageDescription.visibility&&e(Me)(e(L).description)||e(C).packageEmployees.visibility?(t(),i("div",yn,[a("div",hn,[e(Me)(e(L).description)&&e(C).packageDescription.visibility?(t(),i("div",{key:0,class:V(["am-fcip__info-tab",{"am-active":e(c)==="description"}]),onClick:W[5]||(W[5]=()=>ue(c)?c.value="description":c="description")},l(e(M).about_package),3)):u("",!0),e(C).packageEmployees.visibility?(t(),i("div",{key:1,class:V([{"am-active":e(c)==="employees"},"am-fcip__info-tab"]),onClick:W[6]||(W[6]=()=>ue(c)?c.value="employees":c="employees")},l(e(M).tab_employees),3)):u("",!0)]),a("div",bn,[e(Me)(e(L).description)&&e(C).packageDescription.visibility?wt((t(),i("div",kn,[a("div",{class:V(["am-fcip__info-service__desc",{"ql-description":e(L).description.includes("<!-- Content -->")}]),innerHTML:e(L).description},null,10,Cn)],512)),[[xt,e(c)==="description"]]):u("",!0),e(C).packageEmployees.visibility?wt((t(),i("div",$n,[Y($t,null,{default:R(()=>[(t(!0),i(K,null,ye(e(q),z=>(t(),ge(St,{key:z.id,side:""},{heading:R(()=>[a("div",Sn,[a("div",wn,[Y(rt,{"item-class":"am-fcip__info-employee__img","item-data":z,"trim-string":3},null,8,["item-data"]),a("div",xn,[de(l(z.firstName)+" "+l(z.lastName)+" ",1),z.badge?(t(),i("span",{key:0,style:re({background:z.badge.color}),class:"am-fcip__info-employee__badge"},l(z.badge.content),5)):u("",!0)])])])]),default:R(()=>[e(Me)(z.description)?(t(),i("div",{key:0,class:V(["am-fcip__info-employee__description",{"ql-description":z.description.includes("<!-- Content -->")}]),innerHTML:z.description},null,10,Pn)):u("",!0)]),_:2},1024))),128))]),_:1})],512)),[[xt,e(c)==="employees"]]):u("",!0)])])):u("",!0),e(C).packageServices.visibility?(t(),i("div",In,[a("div",En,[a("span",Dn,l(`${e(M).package_includes}:`),1)]),Y($t,null,{default:R(()=>[(t(!0),i(K,null,ye(e(L).bookable,z=>(t(),ge(St,{key:z.id,side:!0},{heading:R(()=>[a("div",Ln,[Y(rt,{"item-class":"am-fcip__include-service__img","item-data":z.service},null,8,["item-data"]),de(" "+l(z.service.name+(e(L).sharedCapacity?"":" x"+z.quantity)),1)])]),default:R(()=>[a("div",Tn,[a("span",null,l(`${e(M).tab_employees}:`),1),(t(!0),i(K,null,ye(pe(z).slice(0,6),ce=>(t(),ge(rt,{key:ce.id,"item-class":"am-fcip__include-service__info-name","item-data":ce,"trim-string":3},null,8,["item-data"]))),128)),pe(z).length>6?(t(),i("span",Bn," + "+l(pe(z).length-6),1)):u("",!0),e(Me)(z.service.description)?(t(),i("div",{key:1,class:V(["am-fcip__include-service__info-description",{"ql-description":z.service.description.includes("<!-- Content -->")}]),innerHTML:z.service.description},null,10,Fn)):u("",!0)])]),_:2},1024))),128))]),_:1}),a("div",zn,[a("span",An,l(e(M).package_book_service),1)])])):u("",!0),Y(dt,{modelValue:e(f),"onUpdate:modelValue":W[7]||(W[7]=z=>ue(f)?f.value=z:f=z),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(ve),onClosed:Le},{default:R(()=>[Y(Wt)]),_:1},8,["modelValue","width"])]),_:2},[e(d).package.length!==1?{name:"header",fn:R(()=>[Y(Nt,{"btn-string":e(M).back_btn,"btn-type":e(C).backBtn.buttonType,onGoBack:ne},null,8,["btn-string","btn-type"])])}:void 0]),1032,["content-class","style"])),e($e)?(t(),i("div",Rn,[a("img",{src:e(T).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,On),a("div",Mn,l(e(M).oops),1),a("div",Vn,l(e(M).no_package_services),1),a("div",Nn,[a("a",Un,l(e(M).add_services_url)+"\xA0 ",1)])],512)):u("",!0)],64))}});const Hn={name:"CatalogSkeleton"},qn=Object.assign(Hn,{setup(p){let k=P(null),r=P(0);window.addEventListener("resize",w);function w(){k.value&&(r.value=k.value.offsetWidth)}Fe(()=>{k.value&&(r.value=k.value.offsetWidth)});let $=y(()=>r.value<=500?"am-w100":r.value<=600?"am-w50":r.value<=768?"am-w33":"");return(T,m)=>{const s=Qa,d=Ya;return t(),i("div",{ref_key:"amSkeletonContainer",ref:k,class:"am-skeleton-catalog__wrapper"},[Y(d,{animated:"",class:"am-skeleton-catalog"},{template:R(()=>[(t(!0),i(K,null,ye(new Array(8),g=>(t(),i("div",{key:g,class:V(["am-skeleton-catalog__item",e($)])},[Y(s,{class:"am-skeleton-catalog__item-inner",variant:"text"})],2))),128))]),_:1})],512)}}});const Gn=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Jn=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Yn=["href"],Qn={name:"CatalogFormWrapper"},Xn=Object.assign(Qn,{emits:["isRestored"],setup(p,{emit:k}){let r=A("isMounted"),w=A("licence"),$=P(null),T=P(20);const m=A("baseUrls");let s=P(0);se("containerWidth",s),window.addEventListener("resize",d);function d(){$.value&&(s.value=$.value.offsetWidth)}Fe(()=>{E.commit("shortcodeParams/setForm","catalogForm"),document.getElementById("amelia-v2-booking-"+C.value.counter).classList.add("amelia-v2-booking-"+C.value.counter+"-loaded"),ft(E,{},"ViewContent","appointment",null,null),d(),r.value=!0,Zt("scrollForm",{offsetFromTop:T})});let g=P(!1);const x=A("settings"),C=A("shortcodeData"),E=it();E.commit("entities/setPreselected",C.value),E.dispatch("entities/getEntities",{types:["employees","categories","locations","packages","entitiesRelations","customFields","taxes"],licence:w,loadEntities:C.value.trigger||window.ameliaShortcodeData.filter(Q=>!Q.hasApiCall).length===window.ameliaShortcodeData.length?!0:C.value.hasApiCall,showHidden:!1});const v=we(Ri),U=we(yl),te=we(Ro),L=we(jn);let F=P([v,U]),c=P(0),q=P(null);se("categorySelected",q);let oe=P([]);se("availableCategories",oe);let J=P("");se("itemType",J),Ct(J,()=>{J.value==="appointment"&&F.value.push(te),J.value==="package"&&F.value.push(L),J.value===""&&F.value.forEach((Q,G)=>{Q.name==="CategoryService"&&pe(F.value,G),Q.name==="CategoryPackage"&&pe(F.value,G)})});function pe(Q,G){Q.splice(G,1)}function $e(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function N(){if(c.value=c.value+1,$e())setTimeout(()=>{let Q=$.value.getBoundingClientRect().top+window.pageYOffset-T.value;window.scrollTo({top:Q,behavior:"smooth"})},500);else{let Q=$.value.getBoundingClientRect().top+window.pageYOffset-T.value;window.scrollTo({top:Q,behavior:"smooth"})}}function be(){c.value=c.value-1}se("changingPageFunctions",{nextPage:N,previousPage:be});let ne=y(()=>E.getters["entities/getReady"]),f=y(()=>E.state.entities);se("amEntities",f);function ve(){let Q=E.getters["entities/getPreselected"];if(Q.category.length!==1&&(C.value.categories_hidden&&(oe.value=JSON.parse(JSON.stringify(kt(f.value,C.value))),xe(()=>{let G=F.value.findIndex(M=>M.name==="CategoriesList");F.value.splice(G,1)})),C.value.categories_hidden||(oe.value=JSON.parse(JSON.stringify(kt(f.value,C.value))),xe(()=>{if(oe.value.length===1){E.commit("booking/setCategoryId",parseInt(oe.value[0].id)),q.value=parseInt(oe.value[0].id);let G=F.value.findIndex(M=>M.name==="CategoriesList");F.value.splice(G,1)}}))),Q.category.length===1&&(E.commit("booking/setCategoryId",parseInt(Q.category)),q.value=parseInt(Q.category[0]),oe.value=JSON.parse(JSON.stringify(kt(f.value,C.value).filter(G=>G.id===parseInt(Q.category[0])))),xe(()=>{let G=F.value.findIndex(M=>M.name==="CategoriesList");F.value.splice(G,1)})),Q.service.length===1){E.commit("booking/setServiceId",parseInt(Q.service[0]));let G=E.getters["entities/getService"](parseInt(Q.service[0]));q.value=G?parseInt(G.categoryId):null,E.commit("booking/setCategoryId",G?parseInt(G.categoryId):null),xe(()=>{F.value=[],F.value.push(te)})}Q.employee.length===1&&E.commit("booking/setEmployeeId",parseInt(Q.employee[0])),Q.location.length===1&&E.commit("booking/setLocationId",parseInt(Q.location[0])),Q.package.length===1&&E.getters["entities/getPackages"].length&&(F.value=[],E.commit("booking/setPackageId",parseInt(Q.package[0])),xe(()=>{F.value.push(L)})),Q.show==="packages"?E.commit("booking/setBookableType","package"):E.commit("booking/setBookableType","appointment")}let Se=y(()=>ne.value?Za(E,C.value):null);se("restoreFormData",Se),Ct(ne,Q=>{Q&&(ve(),g.value=E.getters["entities/getServices"].length===0||E.getters["entities/getEmployees"].length===0,Se.value&&(J.value=E.state.booking.appointment.type,xe(()=>{c.value=F.value.length-1,q.value=E.state.booking.appointment.categoryId,k("isRestored",Se.value)})))});let _e=y(()=>x.customizedData&&"cbf"in x.customizedData?x.customizedData.cbf:ct.cbf);se("customizedDataForm",_e);const fe=P(x.customizedData?x.customizedData.fonts:ct.fonts);se("amFonts",fe);let ee=y(()=>x.customizedData&&"cbf"in x.customizedData?x.customizedData.cbf.colors:ct.cbf.colors);se("amColors",ee);let Le=y(()=>({"--am-c-primary":ee.value.colorPrimary,"--am-c-success":ee.value.colorSuccess,"--am-c-error":ee.value.colorError,"--am-c-warning":ee.value.colorWarning,"--am-c-main-bgr":ee.value.colorMainBgr,"--am-c-main-heading-text":ee.value.colorMainHeadingText,"--am-c-main-text":ee.value.colorMainText,"--am-c-sb-bgr":ee.value.colorSbBgr,"--am-c-sb-text":ee.value.colorSbText,"--am-c-inp-bgr":ee.value.colorInpBgr,"--am-c-inp-border":ee.value.colorInpBorder,"--am-c-inp-text":ee.value.colorInpText,"--am-c-inp-placeholder":ee.value.colorInpPlaceHolder,"--am-c-drop-bgr":ee.value.colorDropBgr,"--am-c-drop-text":ee.value.colorDropText,"--am-c-card-bgr":ee.value.colorCardBgr,"--am-c-card-text":ee.value.colorCardText,"--am-c-card-border":ee.value.colorCardBorder,"--am-c-btn-prim":ee.value.colorBtnPrim,"--am-c-btn-prim-text":ee.value.colorBtnPrimText,"--am-c-btn-sec":ee.value.colorBtnSec,"--am-c-btn-sec-text":ee.value.colorBtnSecText,"--am-c-skeleton-op20":ae(ee.value.colorMainText,.2),"--am-c-skeleton-op60":ae(ee.value.colorMainText,.6),"--am-font-family":fe.value.fontFamily}));function Te(){let Q=document.head||document.getElementsByTagName("head")[0];Q.querySelector("#amCustomFont")&&Q.querySelector("#amCustomFont").remove();let G=`@font-face {font-family: '${fe.value.fontFamily}'; src: url(${fe.value.fontUrl});}`,M=document.createElement("style");Q.appendChild(M),M.setAttribute("type","text/css"),M.setAttribute("id","amCustomFont"),M.appendChild(document.createTextNode(G))}fe.value.customFontSelected&&Te();let _=y(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",_),(Q,G)=>(t(),i(K,null,[fe.value.customFontSelected?u("",!0):(t(),i(K,{key:0},[Gn,Jn,a("link",{rel:"stylesheet",type:"text/css",href:`${e(m).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Yn)],64)),a("div",{id:"amelia-container",ref_key:"ameliaContainer",ref:$,class:"am-fc__wrapper",style:re(e(Le))},[e(ne)&&e(F).length?(t(),ge(Kt(e(F)[e(c)]),{key:0})):(t(),ge(qn,{key:1}))],4),Y(e(Xa))],64))}});var ec=Object.freeze(Object.defineProperty({__proto__:null,default:Xn},Symbol.toStringTag,{value:"Module"}));export{ec as C,Pt as _,dt as a,pi as b,Nt as c,rt as d,Ut as e,Xn as f};
